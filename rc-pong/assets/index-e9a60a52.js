var Wa=Object.defineProperty;var qa=(i,e,t)=>e in i?Wa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Q=(i,e,t)=>(qa(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();class ja{constructor(e){this.sizes={width:window.innerWidth,height:window.innerHeight,buffer:0,aspect:e},this.listeners=[];const t=document.querySelector("div.container"),n=document.querySelector("div.relative");this.update=()=>{const{buffer:r}=this.sizes,s=window.innerHeight-2*r,o=window.innerWidth-2*r;s*this.sizes.aspect>o?(this.sizes.width=o,this.sizes.height=o/this.sizes.aspect,this.sizes.verticalOffset=r+(s-this.sizes.height)/2,this.sizes.horizontalOffset=r):(this.sizes.width=s*this.sizes.aspect,this.sizes.height=s,this.sizes.verticalOffset=r,this.sizes.horizontalOffset=r+(o-this.sizes.width)/2),n.style.top=this.sizes.verticalOffset.toString()+"px",n.style.left=this.sizes.horizontalOffset.toString()+"px",this.listeners.forEach(a=>{a.updateSize(this.sizes)})},window.addEventListener("resize",this.update),window.addEventListener("orientationchange",this.update),window.addEventListener("dblclick",r=>{if(r.target.className!=="webgl")return;document.fullscreenElement||document.webkitFullscreenElement?document.exitFullscreen():t.requestFullscreen()})}}/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.19.2
 * @author George Michael Brower
 * @license MIT
 */class $e{constructor(e,t,n,r,s="div"){this.parent=e,this.object=t,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(s),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),$e.nextNameID=$e.nextNameID||0,this.$name.id=`lil-gui-name-${++$e.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",o=>o.stopPropagation()),this.domElement.addEventListener("keyup",o=>o.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.textContent=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.getValue()!==e&&(this.object[this.property]=e,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class Ka extends $e{constructor(e,t,n){super(e,t,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function Bi(i){let e,t;return(e=i.match(/(#|0x)?([a-f0-9]{6})/i))?t=e[2]:(e=i.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?t=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=i.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t?"#"+t:!1}const Qa={isPrimitive:!0,match:i=>typeof i=="string",fromHexString:Bi,toHexString:Bi},un={isPrimitive:!0,match:i=>typeof i=="number",fromHexString:i=>parseInt(i.substring(1),16),toHexString:i=>"#"+i.toString(16).padStart(6,0)},Za={isPrimitive:!1,match:i=>Array.isArray(i),fromHexString(i,e,t=1){const n=un.fromHexString(i);e[0]=(n>>16&255)/255*t,e[1]=(n>>8&255)/255*t,e[2]=(n&255)/255*t},toHexString([i,e,t],n=1){n=255/n;const r=i*n<<16^e*n<<8^t*n<<0;return un.toHexString(r)}},Ja={isPrimitive:!1,match:i=>Object(i)===i,fromHexString(i,e,t=1){const n=un.fromHexString(i);e.r=(n>>16&255)/255*t,e.g=(n>>8&255)/255*t,e.b=(n&255)/255*t},toHexString({r:i,g:e,b:t},n=1){n=255/n;const r=i*n<<16^e*n<<8^t*n<<0;return un.toHexString(r)}},el=[Qa,un,Za,Ja];function tl(i){return el.find(e=>e.match(i))}class nl extends $e{constructor(e,t,n,r){super(e,t,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=tl(this.initialValue),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=Bi(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class xi extends $e{constructor(e,t,n){super(e,t,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class il extends $e{constructor(e,t,n,r,s,o){super(e,t,n,"number"),this._initInput(),this.min(r),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=t*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=()=>{let x=parseFloat(this.$input.value);isNaN(x)||(this._stepExplicit&&(x=this._snap(x)),this.setValue(this._clamp(x)))},n=x=>{const v=parseFloat(this.$input.value);isNaN(v)||(this._snapClampSetValue(v+x),this.$input.value=this.getValue())},r=x=>{x.key==="Enter"&&this.$input.blur(),x.code==="ArrowUp"&&(x.preventDefault(),n(this._step*this._arrowKeyMultiplier(x))),x.code==="ArrowDown"&&(x.preventDefault(),n(this._step*this._arrowKeyMultiplier(x)*-1))},s=x=>{this._inputFocused&&(x.preventDefault(),n(this._step*this._normalizeMouseWheel(x)))};let o=!1,a,l,c,u,f;const h=5,m=x=>{a=x.clientX,l=c=x.clientY,o=!0,u=this.getValue(),f=0,window.addEventListener("mousemove",p),window.addEventListener("mouseup",d)},p=x=>{if(o){const v=x.clientX-a,b=x.clientY-l;Math.abs(b)>h?(x.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(v)>h&&d()}if(!o){const v=x.clientY-c;f-=v*this._step*this._arrowKeyMultiplier(x),u+f>this._max?f=this._max-u:u+f<this._min&&(f=this._min-u),this._snapClampSetValue(u+f)}c=x.clientY},d=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",d)},_=()=>{this._inputFocused=!0},g=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",t),this.$input.addEventListener("keydown",r),this.$input.addEventListener("wheel",s,{passive:!1}),this.$input.addEventListener("mousedown",m),this.$input.addEventListener("focus",_),this.$input.addEventListener("blur",g)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=(g,x,v,b,y)=>(g-x)/(v-x)*(y-b)+b,t=g=>{const x=this.$slider.getBoundingClientRect();let v=e(g,x.left,x.right,this._min,this._max);this._snapClampSetValue(v)},n=g=>{this._setDraggingStyle(!0),t(g.clientX),window.addEventListener("mousemove",r),window.addEventListener("mouseup",s)},r=g=>{t(g.clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",s)};let o=!1,a,l;const c=g=>{g.preventDefault(),this._setDraggingStyle(!0),t(g.touches[0].clientX),o=!1},u=g=>{g.touches.length>1||(this._hasScrollBar?(a=g.touches[0].clientX,l=g.touches[0].clientY,o=!0):c(g),window.addEventListener("touchmove",f,{passive:!1}),window.addEventListener("touchend",h))},f=g=>{if(o){const x=g.touches[0].clientX-a,v=g.touches[0].clientY-l;Math.abs(x)>Math.abs(v)?c(g):(window.removeEventListener("touchmove",f),window.removeEventListener("touchend",h))}else g.preventDefault(),t(g.touches[0].clientX)},h=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",h)},m=this._callOnFinishChange.bind(this),p=400;let d;const _=g=>{if(Math.abs(g.deltaX)<Math.abs(g.deltaY)&&this._hasScrollBar)return;g.preventDefault();const v=this._normalizeMouseWheel(g)*this._step;this._snapClampSetValue(this.getValue()+v),this.$input.value=this.getValue(),clearTimeout(d),d=setTimeout(m,p)};this.$slider.addEventListener("mousedown",n),this.$slider.addEventListener("touchstart",u,{passive:!1}),this.$slider.addEventListener("wheel",_,{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${t}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),t+-n}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class rl extends $e{constructor(e,t,n,r){super(e,t,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(r)}options(e){return this._values=Array.isArray(e)?e:Object.values(e),this._names=Array.isArray(e)?e:Object.keys(e),this.$select.replaceChildren(),this._names.forEach(t=>{const n=document.createElement("option");n.textContent=t,this.$select.appendChild(n)}),this.updateDisplay(),this}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.textContent=t===-1?e:this._names[t],this}}class sl extends $e{constructor(e,t,n){super(e,t,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const ol=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: none;
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
  }
  .lil-gui button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function al(i){const e=document.createElement("style");e.innerHTML=i;const t=document.querySelector("head link[rel=stylesheet], head style");t?document.head.insertBefore(e,t):document.head.appendChild(e)}let ns=!1;class fr{constructor({parent:e,autoPlace:t=e===void 0,container:n,width:r,title:s="Controls",closeFolders:o=!1,injectStyles:a=!0,touchStyles:l=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",c=>{(c.code==="Enter"||c.code==="Space")&&(c.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),l&&this.domElement.classList.add("allow-touch-styles"),!ns&&a&&(al(ol),ns=!0),n?n.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this._closeFolders=o}add(e,t,n,r,s){if(Object(n)===n)return new rl(this,e,t,n);const o=e[t];switch(typeof o){case"number":return new il(this,e,t,n,r,s);case"boolean":return new Ka(this,e,t);case"string":return new sl(this,e,t);case"function":return new xi(this,e,t)}console.error(`gui.add failed
	property:`,t,`
	object:`,e,`
	value:`,o)}addColor(e,t,n=1){return new nl(this,e,t,n)}addFolder(e){const t=new fr({parent:this,title:e});return this.root._closeFolders&&t.close(),t}load(e,t=!0){return e.controllers&&this.controllers.forEach(n=>{n instanceof xi||n._name in e.controllers&&n.load(e.controllers[n._name])}),t&&e.folders&&this.folders.forEach(n=>{n._title in e.folders&&n.load(e.folders[n._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(n=>{if(!(n instanceof xi)){if(n._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${n._name}"`);t.controllers[n._name]=n.save()}}),e&&this.folders.forEach(n=>{if(n._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${n._title}"`);t.folders[n._title]=n.save()}),t}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const n=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.textContent=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(n=>n.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),this._onOpenClose!==void 0&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}}const ll=fr,gi="state",vi="config";class cl{constructor(){this.added=[],this.listeners=[],this.serializedConfig={},this.config={},this.state={}}init(){const e=new ll;this.variables=e.addFolder("Variables"),this.buttons=e.addFolder("Buttons"),this.readData(),this.addButton({name:"Clear Data",fn:()=>this.clearData()}),e.hide()}addEnum({displayName:e,defaultValue:t,options:n,callback:r=null}){var s;if(!this.config[e]){const o=((s=this.serializedConfig[e])==null?void 0:s.value)??t;this.config[e]={name:e,defaultValue:t,value:o,minOrOptions:n},this.addConfigData(e,r),this.added.push(e)}return this.config[e]}addNumber({displayName:e,defaultValue:t,min:n=null,max:r=null,step:s=null,callback:o=null}){var a;if(!this.config[e]){const l=((a=this.serializedConfig[e])==null?void 0:a.value)??t;this.config[e]={name:e,defaultValue:t,value:l,minOrOptions:n,max:r,step:s},n!==null&&(this.config[e].value=Math.max(n,this.config[e].value)),r!==null&&(this.config[e].value=Math.min(r,this.config[e].value)),this.addConfigData(e,o),this.added.push(e)}return this.config[e]}addColor({displayName:e,defaultValue:t,callback:n=null}){var r;if(!this.config[e]){const s=((r=this.serializedConfig[e])==null?void 0:r.value)??t;this.config[e]={name:e,defaultValue:t,value:s},this.variables.addColor(this.config[e],"value").name(e).onChange(o=>{this.saveData(),this.notify(),n&&n(o)}).listen(),this.added.push(e)}return this.config[e]}addButton({fn:e,name:t}){const n={};n[t]=e,this.buttons.add(n,t)}addConfigData(e,t){const{minOrOptions:n=null,max:r=null,step:s=null,name:o}=this.config[e];this.variables.add(this.config[e],"value",n,r,s).name(o).onChange(a=>{this.saveData(),this.notify(),t&&t(a)}).listen()}notify(){this.listeners.forEach(e=>e.configUpdated(this.config))}readData(){const e=localStorage.getItem(gi);e&&e!="undefined"?this.state=JSON.parse(e):this.state={};const t=localStorage.getItem(vi);t&&t!="undefined"?this.serializedConfig=JSON.parse(t):this.serializedConfig={}}saveData(){}clearData(){localStorage.getItem(gi)&&localStorage.removeItem(gi),this.state={},localStorage.getItem(vi)&&localStorage.removeItem(vi);for(const[e,t]of Object.entries(this.config))t.value=t.defaultValue;this.notify()}addListener(e){this.listeners.push(e)}}var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zs={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(ul,function(){var t=function(){var n=0,r=document.createElement("div");function s(m){return r.appendChild(m.dom),m}function o(m){for(var p=0;p<r.children.length;p++)r.children[p].style.display=p===m?"block":"none";n=m}r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(m){m.preventDefault(),o(++n%r.children.length)},!1);var a=(performance||Date).now(),l=a,c=0,u=s(new t.Panel("FPS","#0ff","#002")),f=s(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=s(new t.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:r,addPanel:s,showPanel:o,begin:function(){a=(performance||Date).now()},end:function(){c++;var m=(performance||Date).now();if(f.update(m-a,200),l+1e3<=m&&(u.update(1e3*c/(m-l),100),l=m,c=0,h)){var p=performance.memory;h.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return m},update:function(){a=this.end()},domElement:r,setMode:o}};return t.Panel=function(n,r,s){var o=1/0,a=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,f=48*c,h=3*c,m=2*c,p=3*c,d=15*c,_=74*c,g=30*c,x=document.createElement("canvas");x.width=u,x.height=f,x.style.cssText="width:80px;height:48px";var v=x.getContext("2d");return v.font="bold "+9*c+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=s,v.fillRect(0,0,u,f),v.fillStyle=r,v.fillText(n,h,m),v.fillRect(p,d,_,g),v.fillStyle=s,v.globalAlpha=.9,v.fillRect(p,d,_,g),{dom:x,update:function(b,y){o=Math.min(o,b),a=Math.max(a,b),v.fillStyle=s,v.globalAlpha=1,v.fillRect(0,0,u,d),v.fillStyle=r,v.fillText(l(b)+" "+n+" ("+l(o)+"-"+l(a)+")",h,m),v.drawImage(x,p+c,d,_-c,g,p,d,_-c,g),v.fillRect(p+_-c,d,c,g),v.fillStyle=s,v.globalAlpha=.9,v.fillRect(p+_-c,d,c,l((1-b/y)*g))}}},t})})(zs);var hl=zs.exports;const dl=fl(hl);/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let ti=Float32Array;function rt(i,e,t){const n=new ti(3);return i&&(n[0]=i),e&&(n[1]=e),t&&(n[2]=t),n}function ml(i,e,t){return t=t||new ti(3),t[0]=i[0]-e[0],t[1]=i[1]-e[1],t[2]=i[2]-e[2],t}function is(i,e,t){t=t||new ti(3);const n=i[2]*e[0]-i[0]*e[2],r=i[0]*e[1]-i[1]*e[0];return t[0]=i[1]*e[2]-i[2]*e[1],t[1]=n,t[2]=r,t}function yi(i,e){e=e||new ti(3);const t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],n=Math.sqrt(t);return n>1e-5?(e[0]=i[0]/n,e[1]=i[1]/n,e[2]=i[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}let V=Float32Array;function pl(i){const e=V;return V=i,e}function _l(i,e){return e=e||new V(16),e[0]=-i[0],e[1]=-i[1],e[2]=-i[2],e[3]=-i[3],e[4]=-i[4],e[5]=-i[5],e[6]=-i[6],e[7]=-i[7],e[8]=-i[8],e[9]=-i[9],e[10]=-i[10],e[11]=-i[11],e[12]=-i[12],e[13]=-i[13],e[14]=-i[14],e[15]=-i[15],e}function xl(){return new V(16).fill(0)}function Bs(i,e){return e=e||new V(16),e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e}function Ns(i){return i=i||new V(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function gl(i,e){if(e=e||new V(16),e===i){let x;return x=i[1],i[1]=i[4],i[4]=x,x=i[2],i[2]=i[8],i[8]=x,x=i[3],i[3]=i[12],i[12]=x,x=i[6],i[6]=i[9],i[9]=x,x=i[7],i[7]=i[13],i[13]=x,x=i[11],i[11]=i[14],i[14]=x,e}const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],c=i[1*4+3],u=i[2*4+0],f=i[2*4+1],h=i[2*4+2],m=i[2*4+3],p=i[3*4+0],d=i[3*4+1],_=i[3*4+2],g=i[3*4+3];return e[0]=t,e[1]=o,e[2]=u,e[3]=p,e[4]=n,e[5]=a,e[6]=f,e[7]=d,e[8]=r,e[9]=l,e[10]=h,e[11]=_,e[12]=s,e[13]=c,e[14]=m,e[15]=g,e}function Us(i,e){e=e||new V(16);const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],c=i[1*4+3],u=i[2*4+0],f=i[2*4+1],h=i[2*4+2],m=i[2*4+3],p=i[3*4+0],d=i[3*4+1],_=i[3*4+2],g=i[3*4+3],x=h*g,v=_*m,b=l*g,y=_*c,A=l*m,T=h*c,S=r*g,w=_*s,P=r*m,O=h*s,F=r*c,M=l*s,N=u*d,z=p*f,L=o*d,B=p*a,G=o*f,He=u*a,Le=t*d,ke=p*n,Ee=t*f,pt=u*n,he=t*a,Te=o*n,Zr=x*a+y*f+A*d-(v*a+b*f+T*d),Jr=v*n+S*f+O*d-(x*n+w*f+P*d),es=b*n+w*a+F*d-(y*n+S*a+M*d),ts=T*n+P*a+M*f-(A*n+O*a+F*f),re=1/(t*Zr+o*Jr+u*es+p*ts);return e[0]=re*Zr,e[1]=re*Jr,e[2]=re*es,e[3]=re*ts,e[4]=re*(v*o+b*u+T*p-(x*o+y*u+A*p)),e[5]=re*(x*t+w*u+P*p-(v*t+S*u+O*p)),e[6]=re*(y*t+S*o+M*p-(b*t+w*o+F*p)),e[7]=re*(A*t+O*o+F*u-(T*t+P*o+M*u)),e[8]=re*(N*c+B*m+G*g-(z*c+L*m+He*g)),e[9]=re*(z*s+Le*m+pt*g-(N*s+ke*m+Ee*g)),e[10]=re*(L*s+ke*c+he*g-(B*s+Le*c+Te*g)),e[11]=re*(He*s+Ee*c+Te*m-(G*s+pt*c+he*m)),e[12]=re*(L*h+He*_+z*l-(G*_+N*l+B*h)),e[13]=re*(Ee*_+N*r+ke*h-(Le*h+pt*_+z*r)),e[14]=re*(Le*l+Te*_+B*r-(he*_+L*r+ke*l)),e[15]=re*(he*h+G*r+pt*l-(Ee*l+Te*h+He*r)),e}function vl(i,e,t){t=t||new V(16);const n=i[0],r=i[1],s=i[2],o=i[3],a=i[4+0],l=i[4+1],c=i[4+2],u=i[4+3],f=i[8+0],h=i[8+1],m=i[8+2],p=i[8+3],d=i[12+0],_=i[12+1],g=i[12+2],x=i[12+3],v=e[0],b=e[1],y=e[2],A=e[3],T=e[4+0],S=e[4+1],w=e[4+2],P=e[4+3],O=e[8+0],F=e[8+1],M=e[8+2],N=e[8+3],z=e[12+0],L=e[12+1],B=e[12+2],G=e[12+3];return t[0]=n*v+a*b+f*y+d*A,t[1]=r*v+l*b+h*y+_*A,t[2]=s*v+c*b+m*y+g*A,t[3]=o*v+u*b+p*y+x*A,t[4]=n*T+a*S+f*w+d*P,t[5]=r*T+l*S+h*w+_*P,t[6]=s*T+c*S+m*w+g*P,t[7]=o*T+u*S+p*w+x*P,t[8]=n*O+a*F+f*M+d*N,t[9]=r*O+l*F+h*M+_*N,t[10]=s*O+c*F+m*M+g*N,t[11]=o*O+u*F+p*M+x*N,t[12]=n*z+a*L+f*B+d*G,t[13]=r*z+l*L+h*B+_*G,t[14]=s*z+c*L+m*B+g*G,t[15]=o*z+u*L+p*B+x*G,t}function yl(i,e,t){return t=t||Ns(),i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function bl(i,e){return e=e||rt(),e[0]=i[12],e[1]=i[13],e[2]=i[14],e}function wl(i,e,t){t=t||rt();const n=e*4;return t[0]=i[n+0],t[1]=i[n+1],t[2]=i[n+2],t}function El(i,e,t,n){n!==i&&(n=Bs(i,n));const r=t*4;return n[r+0]=e[0],n[r+1]=e[1],n[r+2]=e[2],n}function Tl(i,e,t,n,r){r=r||new V(16);const s=Math.tan(Math.PI*.5-.5*i),o=1/(t-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(t+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=t*n*o*2,r[15]=0,r}function Al(i,e,t,n,r,s,o){return o=o||new V(16),o[0]=2/(e-i),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(r-s),o[11]=0,o[12]=(e+i)/(i-e),o[13]=(n+t)/(t-n),o[14]=(s+r)/(r-s),o[15]=1,o}function Sl(i,e,t,n,r,s,o){o=o||new V(16);const a=e-i,l=n-t,c=r-s;return o[0]=2*r/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/l,o[6]=0,o[7]=0,o[8]=(i+e)/a,o[9]=(n+t)/l,o[10]=s/c,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s/c,o[15]=0,o}let Je,_t,Ye;function Cl(i,e,t,n){return n=n||new V(16),Je=Je||rt(),_t=_t||rt(),Ye=Ye||rt(),yi(ml(i,e,Ye),Ye),yi(is(t,Ye,Je),Je),yi(is(Ye,Je,_t),_t),n[0]=Je[0],n[1]=Je[1],n[2]=Je[2],n[3]=0,n[4]=_t[0],n[5]=_t[1],n[6]=_t[2],n[7]=0,n[8]=Ye[0],n[9]=Ye[1],n[10]=Ye[2],n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function Pl(i,e){return e=e||new V(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Rl(i,e,t){t=t||new V(16);const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2],c=i[3],u=i[1*4+0],f=i[1*4+1],h=i[1*4+2],m=i[1*4+3],p=i[2*4+0],d=i[2*4+1],_=i[2*4+2],g=i[2*4+3],x=i[3*4+0],v=i[3*4+1],b=i[3*4+2],y=i[3*4+3];return i!==t&&(t[0]=o,t[1]=a,t[2]=l,t[3]=c,t[4]=u,t[5]=f,t[6]=h,t[7]=m,t[8]=p,t[9]=d,t[10]=_,t[11]=g),t[12]=o*n+u*r+p*s+x,t[13]=a*n+f*r+d*s+v,t[14]=l*n+h*r+_*s+b,t[15]=c*n+m*r+g*s+y,t}function Dl(i,e){e=e||new V(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Fl(i,e,t){t=t||new V(16);const n=i[4],r=i[5],s=i[6],o=i[7],a=i[8],l=i[9],c=i[10],u=i[11],f=Math.cos(e),h=Math.sin(e);return t[4]=f*n+h*a,t[5]=f*r+h*l,t[6]=f*s+h*c,t[7]=f*o+h*u,t[8]=f*a-h*n,t[9]=f*l-h*r,t[10]=f*c-h*s,t[11]=f*u-h*o,i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Ml(i,e){e=e||new V(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ol(i,e,t){t=t||new V(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[2*4+0],l=i[2*4+1],c=i[2*4+2],u=i[2*4+3],f=Math.cos(e),h=Math.sin(e);return t[0]=f*n-h*a,t[1]=f*r-h*l,t[2]=f*s-h*c,t[3]=f*o-h*u,t[8]=f*a+h*n,t[9]=f*l+h*r,t[10]=f*c+h*s,t[11]=f*u+h*o,i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Il(i,e){e=e||new V(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ll(i,e,t){t=t||new V(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[1*4+0],l=i[1*4+1],c=i[1*4+2],u=i[1*4+3],f=Math.cos(e),h=Math.sin(e);return t[0]=f*n+h*a,t[1]=f*r+h*l,t[2]=f*s+h*c,t[3]=f*o+h*u,t[4]=f*a-h*n,t[5]=f*l-h*r,t[6]=f*c-h*s,t[7]=f*u-h*o,i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function kl(i,e,t){t=t||new V(16);let n=i[0],r=i[1],s=i[2];const o=Math.sqrt(n*n+r*r+s*s);n/=o,r/=o,s/=o;const a=n*n,l=r*r,c=s*s,u=Math.cos(e),f=Math.sin(e),h=1-u;return t[0]=a+(1-a)*u,t[1]=n*r*h+s*f,t[2]=n*s*h-r*f,t[3]=0,t[4]=n*r*h-s*f,t[5]=l+(1-l)*u,t[6]=r*s*h+n*f,t[7]=0,t[8]=n*s*h+r*f,t[9]=r*s*h-n*f,t[10]=c+(1-c)*u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zl(i,e,t,n){n=n||new V(16);let r=e[0],s=e[1],o=e[2];const a=Math.sqrt(r*r+s*s+o*o);r/=a,s/=a,o/=a;const l=r*r,c=s*s,u=o*o,f=Math.cos(t),h=Math.sin(t),m=1-f,p=l+(1-l)*f,d=r*s*m+o*h,_=r*o*m-s*h,g=r*s*m-o*h,x=c+(1-c)*f,v=s*o*m+r*h,b=r*o*m+s*h,y=s*o*m-r*h,A=u+(1-u)*f,T=i[0],S=i[1],w=i[2],P=i[3],O=i[4],F=i[5],M=i[6],N=i[7],z=i[8],L=i[9],B=i[10],G=i[11];return n[0]=p*T+d*O+_*z,n[1]=p*S+d*F+_*L,n[2]=p*w+d*M+_*B,n[3]=p*P+d*N+_*G,n[4]=g*T+x*O+v*z,n[5]=g*S+x*F+v*L,n[6]=g*w+x*M+v*B,n[7]=g*P+x*N+v*G,n[8]=b*T+y*O+A*z,n[9]=b*S+y*F+A*L,n[10]=b*w+y*M+A*B,n[11]=b*P+y*N+A*G,i!==n&&(n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n}function Bl(i,e){return e=e||new V(16),e[0]=i[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=i[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Nl(i,e,t){t=t||new V(16);const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0],t[1]=n*i[0*4+1],t[2]=n*i[0*4+2],t[3]=n*i[0*4+3],t[4]=r*i[1*4+0],t[5]=r*i[1*4+1],t[6]=r*i[1*4+2],t[7]=r*i[1*4+3],t[8]=s*i[2*4+0],t[9]=s*i[2*4+1],t[10]=s*i[2*4+2],t[11]=s*i[2*4+3],i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Ul(i,e,t){t=t||rt();const n=e[0],r=e[1],s=e[2],o=n*i[0*4+3]+r*i[1*4+3]+s*i[2*4+3]+i[3*4+3];return t[0]=(n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0]+i[3*4+0])/o,t[1]=(n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1]+i[3*4+1])/o,t[2]=(n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2]+i[3*4+2])/o,t}function $l(i,e,t){t=t||rt();const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0],t[1]=n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1],t[2]=n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2],t}function Gl(i,e,t){t=t||rt();const n=Us(i),r=e[0],s=e[1],o=e[2];return t[0]=r*n[0*4+0]+s*n[0*4+1]+o*n[0*4+2],t[1]=r*n[1*4+0]+s*n[1*4+1]+o*n[1*4+2],t[2]=r*n[2*4+0]+s*n[2*4+1]+o*n[2*4+2],t}var Vl=Object.freeze({__proto__:null,axisRotate:zl,axisRotation:kl,copy:Bs,create:xl,frustum:Sl,getAxis:wl,getTranslation:bl,identity:Ns,inverse:Us,lookAt:Cl,multiply:vl,negate:_l,ortho:Al,perspective:Tl,rotateX:Fl,rotateY:Ol,rotateZ:Ll,rotationX:Dl,rotationY:Ml,rotationZ:Il,scale:Nl,scaling:Bl,setAxis:El,setDefaultType:pl,setTranslation:yl,transformDirection:$l,transformNormal:Gl,transformPoint:Ul,translate:Rl,translation:Pl,transpose:gl});const hr=5120,fn=5121,dr=5122,mr=5123,pr=5124,_r=5125,xr=5126,Xl=32819,Hl=32820,Yl=33635,Wl=5131,ql=33640,jl=35899,Kl=35902,Ql=36269,Zl=34042,$s={};{const i=$s;i[hr]=Int8Array,i[fn]=Uint8Array,i[dr]=Int16Array,i[mr]=Uint16Array,i[pr]=Int32Array,i[_r]=Uint32Array,i[xr]=Float32Array,i[Xl]=Uint16Array,i[Hl]=Uint16Array,i[Yl]=Uint16Array,i[Wl]=Uint16Array,i[ql]=Uint32Array,i[jl]=Uint32Array,i[Kl]=Uint32Array,i[Ql]=Uint32Array,i[Zl]=Uint32Array}function gr(i){if(i instanceof Int8Array)return hr;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)return fn;if(i instanceof Int16Array)return dr;if(i instanceof Uint16Array)return mr;if(i instanceof Int32Array)return pr;if(i instanceof Uint32Array)return _r;if(i instanceof Float32Array)return xr;throw new Error("unsupported typed array type")}function Gs(i){if(i===Int8Array)return hr;if(i===Uint8Array||i===Uint8ClampedArray)return fn;if(i===Int16Array)return dr;if(i===Uint16Array)return mr;if(i===Int32Array)return pr;if(i===Uint32Array)return _r;if(i===Float32Array)return xr;throw new Error("unsupported typed array type")}function Vs(i){const e=$s[i];if(!e)throw new Error("unknown gl type");return e}const Nn=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Xs(...i){console.error(...i)}function Jl(...i){console.warn(...i)}const rs=new Map;function ni(i,e){if(!i||typeof i!="object")return!1;let t=rs.get(e);t||(t=new WeakMap,rs.set(e,t));let n=t.get(i);if(n===void 0){const r=Object.prototype.toString.call(i);n=r.substring(8,r.length-1)===e,t.set(i,n)}return n}function ec(i,e){return typeof WebGLBuffer<"u"&&ni(e,"WebGLBuffer")}function tc(i,e){return typeof WebGLRenderbuffer<"u"&&ni(e,"WebGLRenderbuffer")}function vr(i,e){return typeof WebGLTexture<"u"&&ni(e,"WebGLTexture")}function nc(i,e){return typeof WebGLSampler<"u"&&ni(e,"WebGLSampler")}const Hs=35044,At=34962,ic=34963,rc=34660,sc=5120,oc=5121,ac=5122,lc=5123,cc=5124,uc=5125,Ys=5126,Ws={attribPrefix:""};function fc(i,e,t,n,r){i.bindBuffer(e,t),i.bufferData(e,n,r||Hs)}function qs(i,e,t,n){if(ec(i,e))return e;t=t||At;const r=i.createBuffer();return fc(i,t,r,e,n),r}function js(i){return i==="indices"}function hc(i){return i===Int8Array||i===Uint8Array}function dc(i){return i.length?i:i.data}const mc=/coord|texture/i,pc=/color|colour/i;function _c(i,e){let t;if(mc.test(i)?t=2:pc.test(i)?t=4:t=3,e%t>0)throw new Error(`Can not guess numComponents for attribute '${i}'. Tried ${t} but ${e} values is not evenly divisible by ${t}. You should specify it.`);return t}function xc(i,e,t){return i.numComponents||i.size||_c(e,t||dc(i).length)}function Ks(i,e){if(Nn(i))return i;if(Nn(i.data))return i.data;Array.isArray(i)&&(i={data:i});let t=i.type?yr(i.type):void 0;return t||(js(e)?t=Uint16Array:t=Float32Array),new t(i.data)}function gc(i){return typeof i=="number"?i:i?Gs(i):Ys}function yr(i){return typeof i=="number"?Vs(i):i||Float32Array}function vc(i,e){return{buffer:e.buffer,numValues:2*3*4,type:gc(e.type),arrayType:yr(e.type)}}function yc(i,e){const t=e.data||e,n=yr(e.type),r=t*n.BYTES_PER_ELEMENT,s=i.createBuffer();return i.bindBuffer(At,s),i.bufferData(At,r,e.drawType||Hs),{buffer:s,numValues:t,type:Gs(n),arrayType:n}}function bc(i,e,t){const n=Ks(e,t);return{arrayType:n.constructor,buffer:qs(i,n,void 0,e.drawType),type:gr(n),numValues:0}}function wc(i,e){const t={};return Object.keys(e).forEach(function(n){if(!js(n)){const r=e[n],s=r.attrib||r.name||r.attribName||Ws.attribPrefix+n;if(r.value){if(!Array.isArray(r.value)&&!Nn(r.value))throw new Error("array.value is not array or typedarray");t[s]={value:r.value}}else{let o;r.buffer&&r.buffer instanceof WebGLBuffer?o=vc:typeof r=="number"||typeof r.data=="number"?o=yc:o=bc;const{buffer:a,type:l,numValues:c,arrayType:u}=o(i,r,n),f=r.normalize!==void 0?r.normalize:hc(u),h=xc(r,n,c);t[s]={buffer:a,numComponents:h,type:l,normalize:f,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),i.bindBuffer(At,null),t}function Ec(i,e){return e===sc||e===oc?1:e===ac||e===lc?2:e===cc||e===uc||e===Ys?4:0}const bi=["position","positions","a_position"];function Tc(i,e){let t,n;for(n=0;n<bi.length&&(t=bi[n],!(t in e||(t=Ws.attribPrefix+t,t in e)));++n);n===bi.length&&(t=Object.keys(e)[0]);const r=e[t];if(!r.buffer)return 1;i.bindBuffer(At,r.buffer);const s=i.getBufferParameter(At,rc);i.bindBuffer(At,null);const o=Ec(i,r.type),a=s/o,l=r.numComponents||r.size,c=a/l;if(c%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return c}function Qs(i,e,t){const n=wc(i,e),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},n);const s=e.indices;if(s){const o=Ks(s,"indices");r.indices=qs(i,o,ic),r.numElements=o.length,r.elementType=gr(o)}else r.numElements||(r.numElements=Tc(i,r.attribs));return r}function bn(i){return!!i.texStorage2D}const Un=function(){const i={},e={};function t(n){const r=n.constructor.name;if(!i[r]){for(const s in n)if(typeof n[s]=="number"){const o=e[n[s]];e[n[s]]=o?`${o} | ${s}`:s}i[r]=!0}}return function(r,s){return t(r),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),ut={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},hn=Nn,Zs=function(){let i;return function(){return i=i||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),i}}(),ss=6406,ze=6407,Y=6408,os=6409,as=6410,Jt=6402,ls=34041,$n=33071,Ac=9728,Sc=9729,ft=3553,at=34067,Dt=32879,Ft=35866,br=34069,Cc=34070,Pc=34071,Rc=34072,Dc=34073,Fc=34074,Ni=10241,Ui=10240,Gn=10242,Vn=10243,cs=32882,Mc=33082,Oc=33083,Ic=33084,Lc=33085,kc=34892,zc=34893,wr=3317,Js=3314,eo=32878,to=3316,no=3315,io=32877,Bc=37443,Nc=37441,Uc=37440,$c=33321,Gc=36756,Vc=33325,Xc=33326,Hc=33330,Yc=33329,Wc=33338,qc=33337,jc=33340,Kc=33339,Qc=33323,Zc=36757,Jc=33327,eu=33328,tu=33336,nu=33335,iu=33332,ru=33331,su=33334,ou=33333,au=32849,lu=35905,cu=36194,uu=36758,fu=35898,hu=35901,du=34843,mu=34837,pu=36221,_u=36239,xu=36215,gu=36233,vu=36209,yu=36227,bu=32856,wu=35907,Eu=36759,Tu=32855,Au=32854,Su=32857,Cu=34842,Pu=34836,Ru=36220,Du=36238,Fu=36975,Mu=36214,Ou=36232,Iu=36226,Lu=36208,ku=33189,zu=33190,Bu=36012,Nu=36013,Uu=35056,et=5120,X=5121,Sn=5122,kt=5123,Cn=5124,xt=5125,se=5126,us=32819,fs=32820,hs=33635,Me=5131,en=36193,wi=33640,$u=35899,Gu=35902,Vu=36269,Xu=34042,Pn=33319,zt=33320,Rn=6403,Bt=36244,Nt=36248,gt=36249;let Ei;function ii(i){if(!Ei){const e={};e[ss]={textureFormat:ss,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[X,Me,en,se]},e[os]={textureFormat:os,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[X,Me,en,se]},e[as]={textureFormat:as,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[X,Me,en,se]},e[ze]={textureFormat:ze,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[X,Me,en,se,hs]},e[Y]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[X,Me,en,se,us,fs]},e[Jt]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[xt,kt]},e[$c]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[X]},e[Gc]={textureFormat:Rn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[et]},e[Vc]={textureFormat:Rn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[se,Me]},e[Xc]={textureFormat:Rn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[se]},e[Hc]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[X]},e[Yc]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[et]},e[iu]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[kt]},e[ru]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Sn]},e[su]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xt]},e[ou]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Cn]},e[Qc]={textureFormat:Pn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[X]},e[Zc]={textureFormat:Pn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[et]},e[Jc]={textureFormat:Pn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[se,Me]},e[eu]={textureFormat:Pn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[se]},e[tu]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[X]},e[nu]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[et]},e[Wc]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[kt]},e[qc]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Sn]},e[jc]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xt]},e[Kc]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Cn]},e[au]={textureFormat:ze,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[X]},e[lu]={textureFormat:ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[X]},e[cu]={textureFormat:ze,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[X,hs]},e[uu]={textureFormat:ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[et]},e[fu]={textureFormat:ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[se,Me,$u]},e[hu]={textureFormat:ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[se,Me,Gu]},e[du]={textureFormat:ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[se,Me]},e[mu]={textureFormat:ze,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[se]},e[pu]={textureFormat:Nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[X]},e[_u]={textureFormat:Nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[et]},e[xu]={textureFormat:Nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[kt]},e[gu]={textureFormat:Nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Sn]},e[vu]={textureFormat:Nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[xt]},e[yu]={textureFormat:Nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Cn]},e[bu]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[X]},e[wu]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[X]},e[Eu]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[et]},e[Tu]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[X,fs,wi]},e[Au]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[X,us]},e[Su]={textureFormat:Y,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[wi]},e[Cu]={textureFormat:Y,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[se,Me]},e[Pu]={textureFormat:Y,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[se]},e[Ru]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[X]},e[Du]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[et]},e[Fu]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[wi]},e[Mu]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[kt]},e[Ou]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Sn]},e[Iu]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Cn]},e[Lu]={textureFormat:gt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[xt]},e[ku]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[kt,xt]},e[zu]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xt]},e[Bu]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[se]},e[Uu]={textureFormat:ls,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xu]},e[Nu]={textureFormat:ls,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Vu]},Object.keys(e).forEach(function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(r,s){const o=n.type[s];n.bytesPerElementMap[o]=r})}),Ei=e}return Ei[i]}function Hu(i,e){const t=ii(i);if(!t)throw"unknown internal format";const n=t.bytesPerElementMap[e];if(n===void 0)throw"unknown internal format";return n}function wn(i){const e=ii(i);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function ds(i){return(i&i-1)===0}function Yu(i,e,t,n){if(!bn(i))return ds(e)&&ds(t);const r=ii(n);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}function Wu(i){const e=ii(i);if(!e)throw"unknown internal format";return e.textureFilterable}function qu(i,e,t){return hn(e)?gr(e):t||X}function Dn(i,e,t,n,r){if(r%1!==0)throw"can't guess dimensions";if(!t&&!n){const s=Math.sqrt(r/(e===at?6:1));s%1===0?(t=s,n=s):(t=r,n=1)}else if(n){if(!t&&(t=r/n,t%1))throw"can't guess dimensions"}else if(n=r/t,n%1)throw"can't guess dimensions";return{width:t,height:n}}function Wt(i,e){e.colorspaceConversion!==void 0&&i.pixelStorei(Bc,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&i.pixelStorei(Nc,e.premultiplyAlpha),e.flipY!==void 0&&i.pixelStorei(Uc,e.flipY)}function ro(i){i.pixelStorei(wr,4),bn(i)&&(i.pixelStorei(Js,0),i.pixelStorei(eo,0),i.pixelStorei(to,0),i.pixelStorei(no,0),i.pixelStorei(io,0))}function ju(i,e,t,n){n.minMag&&(t.call(i,e,Ni,n.minMag),t.call(i,e,Ui,n.minMag)),n.min&&t.call(i,e,Ni,n.min),n.mag&&t.call(i,e,Ui,n.mag),n.wrap&&(t.call(i,e,Gn,n.wrap),t.call(i,e,Vn,n.wrap),(e===Dt||nc(i,e))&&t.call(i,e,cs,n.wrap)),n.wrapR&&t.call(i,e,cs,n.wrapR),n.wrapS&&t.call(i,e,Gn,n.wrapS),n.wrapT&&t.call(i,e,Vn,n.wrapT),n.minLod!==void 0&&t.call(i,e,Mc,n.minLod),n.maxLod!==void 0&&t.call(i,e,Oc,n.maxLod),n.baseLevel!==void 0&&t.call(i,e,Ic,n.baseLevel),n.maxLevel!==void 0&&t.call(i,e,Lc,n.maxLevel),n.compareFunc!==void 0&&t.call(i,e,zc,n.compareFunc),n.compareMode!==void 0&&t.call(i,e,kc,n.compareMode)}function so(i,e,t){const n=t.target||ft;i.bindTexture(n,e),ju(i,n,i.texParameteri,t)}function Ku(i){return i=i||ut.textureColor,hn(i)?i:new Uint8Array([i[0]*255,i[1]*255,i[2]*255,i[3]*255])}function $i(i,e,t,n,r,s){t=t||ut.textureOptions,s=s||Y;const o=t.target||ft;if(n=n||t.width,r=r||t.height,i.bindTexture(o,e),Yu(i,n,r,s))i.generateMipmap(o);else{const a=Wu(s)?Sc:Ac;i.texParameteri(o,Ni,a),i.texParameteri(o,Ui,a),i.texParameteri(o,Gn,$n),i.texParameteri(o,Vn,$n)}}function dn(i){return i.auto===!0||i.auto===void 0&&i.level===void 0}function Gi(i,e){return e=e||{},e.cubeFaceOrder||[br,Cc,Pc,Rc,Dc,Fc]}function Vi(i,e){const n=Gi(i,e).map(function(r,s){return{face:r,ndx:s}});return n.sort(function(r,s){return r.face-s.face}),n}function oo(i,e,t,n){n=n||ut.textureOptions;const r=n.target||ft,s=n.level||0;let o=t.width,a=t.height;const l=n.internalFormat||n.format||Y,c=wn(l),u=n.format||c.format,f=n.type||c.type;if(Wt(i,n),i.bindTexture(r,e),r===at){const h=t.width,m=t.height;let p,d;if(h/6===m)p=m,d=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===h)p=h,d=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===m/2)p=h/3,d=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===m/3)p=h/2,d=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);const _=Zs();_?(_.canvas.width=p,_.canvas.height=p,o=p,a=p,Vi(i,n).forEach(function(g){const x=d[g.ndx*2+0]*p,v=d[g.ndx*2+1]*p;_.drawImage(t,x,v,p,p,0,0,p,p),i.texImage2D(g.face,s,l,u,f,_.canvas)}),_.canvas.width=1,_.canvas.height=1):typeof createImageBitmap<"u"&&(o=p,a=p,Vi(i,n).forEach(function(g){const x=d[g.ndx*2+0]*p,v=d[g.ndx*2+1]*p;i.texImage2D(g.face,s,l,p,p,0,u,f,null),createImageBitmap(t,x,v,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(b){Wt(i,n),i.bindTexture(r,e),i.texImage2D(g.face,s,l,u,f,b),dn(n)&&$i(i,e,n,o,a,l)})}))}else if(r===Dt||r===Ft){const h=Math.min(t.width,t.height),m=Math.max(t.width,t.height),p=m/h;if(p%1!==0)throw"can not compute 3D dimensions of element";const d=t.width===m?1:0,_=t.height===m?1:0;i.pixelStorei(wr,1),i.pixelStorei(Js,t.width),i.pixelStorei(eo,0),i.pixelStorei(io,0),i.texImage3D(r,s,l,h,h,h,0,u,f,null);for(let g=0;g<p;++g){const x=g*h*d,v=g*h*_;i.pixelStorei(to,x),i.pixelStorei(no,v),i.texSubImage3D(r,s,0,0,g,h,h,1,u,f,t)}ro(i)}else i.texImage2D(r,s,l,u,f,t);dn(n)&&$i(i,e,n,o,a,l),so(i,e,n)}function En(){}function Qu(i){if(typeof document<"u"){const e=document.createElement("a");return e.href=i,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(i,location.href).origin===e}}function Zu(i,e){return e===void 0&&!Qu(i)?"anonymous":e}function Ju(i,e,t){t=t||En;let n;if(e=e!==void 0?e:ut.crossOrigin,e=Zu(i,e),typeof Image<"u"){n=new Image,e!==void 0&&(n.crossOrigin=e);const r=function(){n.removeEventListener("error",s),n.removeEventListener("load",o),n=null},s=function(){const l="couldn't load image: "+i;Xs(l),t(l,n),r()},o=function(){t(null,n),r()};return n.addEventListener("error",s),n.addEventListener("load",o),n.src=i,n}else if(typeof ImageBitmap<"u"){let r,s;const o=function(){t(r,s)},a={};e&&(a.mode="cors"),fetch(i,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){r=l,setTimeout(o)}),n=null}return n}function ao(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap||typeof ImageData<"u"&&i instanceof ImageData||typeof HTMLElement<"u"&&i instanceof HTMLElement}function Er(i,e,t){return ao(i)?(setTimeout(function(){t(null,i)}),i):Ju(i,e,t)}function Tr(i,e,t){t=t||ut.textureOptions;const n=t.target||ft;if(i.bindTexture(n,e),t.color===!1)return;const r=Ku(t.color);if(n===at)for(let s=0;s<6;++s)i.texImage2D(br+s,0,Y,1,1,0,Y,X,r);else n===Dt||n===Ft?i.texImage3D(n,0,Y,1,1,1,0,Y,X,r):i.texImage2D(n,0,Y,1,1,0,Y,X,r)}function ef(i,e,t,n){return n=n||En,t=t||ut.textureOptions,Tr(i,e,t),t=Object.assign({},t),Er(t.src,t.crossOrigin,function(s,o){s?n(s,e,o):(oo(i,e,o,t),n(null,e,o))})}function tf(i,e,t,n){n=n||En;const r=t.src;if(r.length!==6)throw"there must be 6 urls for a cubemap";const s=t.level||0,o=t.internalFormat||t.format||Y,a=wn(o),l=t.format||a.format,c=t.type||X,u=t.target||ft;if(u!==at)throw"target must be TEXTURE_CUBE_MAP";Tr(i,e,t),t=Object.assign({},t);let f=6;const h=[],m=Gi(i,t);let p;function d(_){return function(g,x){--f,g?h.push(g):x.width!==x.height?h.push("cubemap face img is not a square: "+x.src):(Wt(i,t),i.bindTexture(u,e),f===5?Gi().forEach(function(v){i.texImage2D(v,s,o,l,c,x)}):i.texImage2D(_,s,o,l,c,x),dn(t)&&i.generateMipmap(u)),f===0&&n(h.length?h:void 0,e,p)}}p=r.map(function(_,g){return Er(_,t.crossOrigin,d(m[g]))})}function nf(i,e,t,n){n=n||En;const r=t.src,s=t.internalFormat||t.format||Y,o=wn(s),a=t.format||o.format,l=t.type||X,c=t.target||Ft;if(c!==Dt&&c!==Ft)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Tr(i,e,t),t=Object.assign({},t);let u=r.length;const f=[];let h;const m=t.level||0;let p=t.width,d=t.height;const _=r.length;let g=!0;function x(v){return function(b,y){if(--u,b)f.push(b);else{if(Wt(i,t),i.bindTexture(c,e),g){g=!1,p=t.width||y.width,d=t.height||y.height,i.texImage3D(c,m,s,p,d,_,0,a,l,null);for(let A=0;A<_;++A)i.texSubImage3D(c,m,0,0,A,p,d,1,a,l,y)}else{let A=y,T;(y.width!==p||y.height!==d)&&(T=Zs(),A=T.canvas,T.canvas.width=p,T.canvas.height=d,T.drawImage(y,0,0,p,d)),i.texSubImage3D(c,m,0,0,v,p,d,1,a,l,A),T&&A===T.canvas&&(T.canvas.width=0,T.canvas.height=0)}dn(t)&&i.generateMipmap(c)}u===0&&n(f.length?f:void 0,e,h)}}h=r.map(function(v,b){return Er(v,t.crossOrigin,x(b))})}function rf(i,e,t,n){n=n||ut.textureOptions;const r=n.target||ft;i.bindTexture(r,e);let s=n.width,o=n.height,a=n.depth;const l=n.level||0,c=n.internalFormat||n.format||Y,u=wn(c),f=n.format||u.format,h=n.type||qu(i,t,u.type);if(hn(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{const _=Vs(h);t=new _(t)}const m=Hu(c,h),p=t.byteLength/m;if(p%1)throw"length wrong size for format: "+Un(i,f);let d;if(r===Dt||r===Ft)if(!s&&!o&&!a){const _=Math.cbrt(p);if(_%1!==0)throw"can't guess cube size of array of numElements: "+p;s=_,o=_,a=_}else s&&(!o||!a)?(d=Dn(i,r,o,a,p/s),o=d.width,a=d.height):o&&(!s||!a)?(d=Dn(i,r,s,a,p/o),s=d.width,a=d.height):(d=Dn(i,r,s,o,p/a),s=d.width,o=d.height);else d=Dn(i,r,s,o,p),s=d.width,o=d.height;if(ro(i),i.pixelStorei(wr,n.unpackAlignment||1),Wt(i,n),r===at){const _=m/t.BYTES_PER_ELEMENT,g=p/6*_;Vi(i,n).forEach(x=>{const v=g*x.ndx,b=t.subarray(v,v+g);i.texImage2D(x.face,l,c,s,o,0,f,h,b)})}else r===Dt||r===Ft?i.texImage3D(r,l,c,s,o,a,0,f,h,t):i.texImage2D(r,l,c,s,o,0,f,h,t);return{width:s,height:o,depth:a,type:h}}function sf(i,e,t){const n=t.target||ft;i.bindTexture(n,e);const r=t.level||0,s=t.internalFormat||t.format||Y,o=wn(s),a=t.format||o.format,l=t.type||o.type;if(Wt(i,t),n===at)for(let c=0;c<6;++c)i.texImage2D(br+c,r,s,t.width,t.height,0,a,l,null);else n===Dt||n===Ft?i.texImage3D(n,r,s,t.width,t.height,t.depth,0,a,l,null):i.texImage2D(n,r,s,t.width,t.height,0,a,l,null)}function of(i,e,t){t=t||En,e=e||ut.textureOptions;const n=i.createTexture(),r=e.target||ft;let s=e.width||1,o=e.height||1;const a=e.internalFormat||Y;i.bindTexture(r,n),r===at&&(i.texParameteri(r,Gn,$n),i.texParameteri(r,Vn,$n));let l=e.src;if(l)if(typeof l=="function"&&(l=l(i,e)),typeof l=="string")ef(i,n,e,t);else if(hn(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||hn(l[0]))){const c=rf(i,n,l,e);s=c.width,o=c.height}else Array.isArray(l)&&(typeof l[0]=="string"||ao(l[0]))?r===at?tf(i,n,e,t):nf(i,n,e,t):(oo(i,n,l,e),s=l.width,o=l.height);else sf(i,n,e);return dn(e)&&$i(i,n,e,s,o,a),so(i,n,e),n}const Ar=Xs;function lo(i){return typeof document<"u"&&document.getElementById?document.getElementById(i):null}const Xn=33984,ri=34962,af=34963,lf=35713,cf=35714,uf=35632,ff=35633,hf=35981,co=35718,df=35721,mf=35971,pf=35382,_f=35396,xf=35398,gf=35392,vf=35395,si=5126,uo=35664,fo=35665,ho=35666,Sr=5124,mo=35667,po=35668,_o=35669,xo=35670,go=35671,vo=35672,yo=35673,bo=35674,wo=35675,Eo=35676,yf=35678,bf=35680,wf=35679,Ef=35682,Tf=35685,Af=35686,Sf=35687,Cf=35688,Pf=35689,Rf=35690,Df=36289,Ff=36292,Mf=36293,Cr=5125,To=36294,Ao=36295,So=36296,Of=36298,If=36299,Lf=36300,kf=36303,zf=36306,Bf=36307,Nf=36308,Uf=36311,oi=3553,ai=34067,Pr=32879,li=35866,D={};function Co(i,e){return D[e].bindPoint}function $f(i,e){return function(t){i.uniform1f(e,t)}}function Gf(i,e){return function(t){i.uniform1fv(e,t)}}function Vf(i,e){return function(t){i.uniform2fv(e,t)}}function Xf(i,e){return function(t){i.uniform3fv(e,t)}}function Hf(i,e){return function(t){i.uniform4fv(e,t)}}function Po(i,e){return function(t){i.uniform1i(e,t)}}function Ro(i,e){return function(t){i.uniform1iv(e,t)}}function Do(i,e){return function(t){i.uniform2iv(e,t)}}function Fo(i,e){return function(t){i.uniform3iv(e,t)}}function Mo(i,e){return function(t){i.uniform4iv(e,t)}}function Yf(i,e){return function(t){i.uniform1ui(e,t)}}function Wf(i,e){return function(t){i.uniform1uiv(e,t)}}function qf(i,e){return function(t){i.uniform2uiv(e,t)}}function jf(i,e){return function(t){i.uniform3uiv(e,t)}}function Kf(i,e){return function(t){i.uniform4uiv(e,t)}}function Qf(i,e){return function(t){i.uniformMatrix2fv(e,!1,t)}}function Zf(i,e){return function(t){i.uniformMatrix3fv(e,!1,t)}}function Jf(i,e){return function(t){i.uniformMatrix4fv(e,!1,t)}}function eh(i,e){return function(t){i.uniformMatrix2x3fv(e,!1,t)}}function th(i,e){return function(t){i.uniformMatrix3x2fv(e,!1,t)}}function nh(i,e){return function(t){i.uniformMatrix2x4fv(e,!1,t)}}function ih(i,e){return function(t){i.uniformMatrix4x2fv(e,!1,t)}}function rh(i,e){return function(t){i.uniformMatrix3x4fv(e,!1,t)}}function sh(i,e){return function(t){i.uniformMatrix4x3fv(e,!1,t)}}function ue(i,e,t,n){const r=Co(i,e);return bn(i)?function(s){let o,a;!s||vr(i,s)?(o=s,a=null):(o=s.texture,a=s.sampler),i.uniform1i(n,t),i.activeTexture(Xn+t),i.bindTexture(r,o),i.bindSampler(t,a)}:function(s){i.uniform1i(n,t),i.activeTexture(Xn+t),i.bindTexture(r,s)}}function fe(i,e,t,n,r){const s=Co(i,e),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=t+a;return bn(i)?function(a){i.uniform1iv(n,o),a.forEach(function(l,c){i.activeTexture(Xn+o[c]);let u,f;!l||vr(i,l)?(u=l,f=null):(u=l.texture,f=l.sampler),i.bindSampler(t,f),i.bindTexture(s,u)})}:function(a){i.uniform1iv(n,o),a.forEach(function(l,c){i.activeTexture(Xn+o[c]),i.bindTexture(s,l)})}}D[si]={Type:Float32Array,size:4,setter:$f,arraySetter:Gf};D[uo]={Type:Float32Array,size:8,setter:Vf,cols:2};D[fo]={Type:Float32Array,size:12,setter:Xf,cols:3};D[ho]={Type:Float32Array,size:16,setter:Hf,cols:4};D[Sr]={Type:Int32Array,size:4,setter:Po,arraySetter:Ro};D[mo]={Type:Int32Array,size:8,setter:Do,cols:2};D[po]={Type:Int32Array,size:12,setter:Fo,cols:3};D[_o]={Type:Int32Array,size:16,setter:Mo,cols:4};D[Cr]={Type:Uint32Array,size:4,setter:Yf,arraySetter:Wf};D[To]={Type:Uint32Array,size:8,setter:qf,cols:2};D[Ao]={Type:Uint32Array,size:12,setter:jf,cols:3};D[So]={Type:Uint32Array,size:16,setter:Kf,cols:4};D[xo]={Type:Uint32Array,size:4,setter:Po,arraySetter:Ro};D[go]={Type:Uint32Array,size:8,setter:Do,cols:2};D[vo]={Type:Uint32Array,size:12,setter:Fo,cols:3};D[yo]={Type:Uint32Array,size:16,setter:Mo,cols:4};D[bo]={Type:Float32Array,size:32,setter:Qf,rows:2,cols:2};D[wo]={Type:Float32Array,size:48,setter:Zf,rows:3,cols:3};D[Eo]={Type:Float32Array,size:64,setter:Jf,rows:4,cols:4};D[Tf]={Type:Float32Array,size:32,setter:eh,rows:2,cols:3};D[Af]={Type:Float32Array,size:32,setter:nh,rows:2,cols:4};D[Sf]={Type:Float32Array,size:48,setter:th,rows:3,cols:2};D[Cf]={Type:Float32Array,size:48,setter:rh,rows:3,cols:4};D[Pf]={Type:Float32Array,size:64,setter:ih,rows:4,cols:2};D[Rf]={Type:Float32Array,size:64,setter:sh,rows:4,cols:3};D[yf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:oi};D[bf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:ai};D[wf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:Pr};D[Ef]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:oi};D[Df]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:li};D[Ff]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:li};D[Mf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:ai};D[Of]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:oi};D[If]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:Pr};D[Lf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:ai};D[kf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:li};D[zf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:oi};D[Bf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:Pr};D[Nf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:ai};D[Uf]={Type:null,size:0,setter:ue,arraySetter:fe,bindPoint:li};function ci(i,e){return function(t){if(t.value)switch(i.disableVertexAttribArray(e),t.value.length){case 4:i.vertexAttrib4fv(e,t.value);break;case 3:i.vertexAttrib3fv(e,t.value);break;case 2:i.vertexAttrib2fv(e,t.value);break;case 1:i.vertexAttrib1fv(e,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else i.bindBuffer(ri,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribPointer(e,t.numComponents||t.size,t.type||si,t.normalize||!1,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function ht(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4iv(e,t.value);else throw new Error("The length of an integer constant value must be 4!");else i.bindBuffer(ri,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Sr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function ui(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4uiv(e,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else i.bindBuffer(ri,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Cr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Rr(i,e,t){const n=t.size,r=t.count;return function(s){i.bindBuffer(ri,s.buffer);const o=s.size||s.numComponents||n,a=o/r,l=s.type||si,u=D[l].size*o,f=s.normalize||!1,h=s.offset||0,m=u/r;for(let p=0;p<r;++p)i.enableVertexAttribArray(e+p),i.vertexAttribPointer(e+p,a,l,f,u,h+m*p),i.vertexAttribDivisor&&i.vertexAttribDivisor(e+p,s.divisor||0)}}const J={};J[si]={size:4,setter:ci};J[uo]={size:8,setter:ci};J[fo]={size:12,setter:ci};J[ho]={size:16,setter:ci};J[Sr]={size:4,setter:ht};J[mo]={size:8,setter:ht};J[po]={size:12,setter:ht};J[_o]={size:16,setter:ht};J[Cr]={size:4,setter:ui};J[To]={size:8,setter:ui};J[Ao]={size:12,setter:ui};J[So]={size:16,setter:ui};J[xo]={size:4,setter:ht};J[go]={size:8,setter:ht};J[vo]={size:12,setter:ht};J[yo]={size:16,setter:ht};J[bo]={size:4,setter:Rr,count:2};J[wo]={size:9,setter:Rr,count:3};J[Eo]={size:16,setter:Rr,count:4};const oh=/ERROR:\s*\d+:(\d+)/gi;function ah(i,e="",t=0){const n=[...e.matchAll(oh)],r=new Map(n.map((s,o)=>{const a=parseInt(s[1]),l=n[o+1],c=l?l.index:e.length,u=e.substring(s.index,c);return[a-1,u]}));return i.split(`
`).map((s,o)=>{const a=r.get(o);return`${o+1+t}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const ms=/^[ \t]*\n/;function Oo(i){let e=0;return ms.test(i)&&(e=1,i=i.replace(ms,"")),{lineOffset:e,shaderSource:i}}function lh(i,e){return i.errorCallback(e),i.callback&&setTimeout(()=>{i.callback(`${e}
${i.errors.join(`
`)}`)}),null}function ch(i,e,t,n){if(n=n||Ar,!i.getShaderParameter(t,lf)){const s=i.getShaderInfoLog(t),{lineOffset:o,shaderSource:a}=Oo(i.getShaderSource(t)),l=`${ah(a,s,o)}
Error compiling ${Un(i,e)}: ${s}`;return n(l),l}return""}function Dr(i,e,t){let n,r,s;if(typeof e=="function"&&(t=e,e=void 0),typeof i=="function")t=i,i=void 0;else if(i&&!Array.isArray(i)){const c=i;t=c.errorCallback,i=c.attribLocations,n=c.transformFeedbackVaryings,r=c.transformFeedbackMode,s=c.callback}const o=t||Ar,a=[],l={errorCallback(c,...u){a.push(c),o(c,...u)},transformFeedbackVaryings:n,transformFeedbackMode:r,callback:s,errors:a};{let c={};Array.isArray(i)?i.forEach(function(u,f){c[u]=e?e[f]:f}):c=i||{},l.attribLocations=c}return l}const uh=["VERTEX_SHADER","FRAGMENT_SHADER"];function fh(i,e){if(e.indexOf("frag")>=0)return uf;if(e.indexOf("vert")>=0)return ff}function hh(i,e,t){const n=i.getAttachedShaders(e);for(const r of n)t.has(r)&&i.deleteShader(r);i.deleteProgram(e)}const dh=(i=0)=>new Promise(e=>setTimeout(e,i));function mh(i,e,t){const n=i.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:o}=Dr(t);for(let a=0;a<e.length;++a){let l=e[a];if(typeof l=="string"){const c=lo(l),u=c?c.text:l;let f=i[uh[a]];c&&c.type&&(f=fh(i,c.type)||f),l=i.createShader(f),i.shaderSource(l,Oo(u).shaderSource),i.compileShader(l),i.attachShader(n,l)}}Object.entries(r).forEach(([a,l])=>i.bindAttribLocation(n,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),i.transformFeedbackVaryings(n,a,o||hf))}return i.linkProgram(n),n}function ph(i,e,t,n,r){const s=Dr(t,n,r),o=new Set(e),a=mh(i,e,s);function l(c,u){const f=xh(c,u,s.errorCallback);return f&&hh(c,u,o),f}if(s.callback){_h(i,a).then(()=>{const c=l(i,a);s.callback(c,c?void 0:a)});return}return l(i,a)?void 0:a}async function _h(i,e){const t=i.getExtension("KHR_parallel_shader_compile"),n=t?(s,o)=>s.getProgramParameter(o,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await dh(r),r=1e3/60;while(!n(i,e))}function xh(i,e,t){if(t=t||Ar,!i.getProgramParameter(e,cf)){const r=i.getProgramInfoLog(e);t(`Error in program linking: ${r}`);const o=i.getAttachedShaders(e).map(a=>ch(i,i.getShaderParameter(a,i.SHADER_TYPE),a,t));return`${r}
${o.filter(a=>a).join(`
`)}`}}function gh(i,e,t,n,r){return ph(i,e,t,n,r)}function Io(i){const e=i.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const vh=/(\.|\[|]|\w+)/g,yh=i=>i>="0"&&i<="9";function bh(i,e,t,n){const r=i.split(vh).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=yh(a[0]),c=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){t[c]=e;break}else{const f=r[s++],h=f==="[",m=t[c]||(h?[]:{});t[c]=m,t=m,n[o]=n[o]||function(p){return function(d){Lo(p,d)}}(m),o+=f}}}function wh(i,e){let t=0;function n(a,l,c){const u=l.name.endsWith("[0]"),f=l.type,h=D[f];if(!h)throw new Error(`unknown type: 0x${f.toString(16)}`);let m;if(h.bindPoint){const p=t;t+=l.size,u?m=h.arraySetter(i,f,p,c,l.size):m=h.setter(i,f,p,c,l.size)}else h.arraySetter&&u?m=h.arraySetter(i,c):m=h.setter(i,c);return m.location=c,m}const r={},s={},o=i.getProgramParameter(e,co);for(let a=0;a<o;++a){const l=i.getActiveUniform(e,a);if(Io(l))continue;let c=l.name;c.endsWith("[0]")&&(c=c.substr(0,c.length-3));const u=i.getUniformLocation(e,l.name);if(u){const f=n(e,l,u);r[c]=f,bh(c,f,s,r)}}return r}function Eh(i,e){const t={},n=i.getProgramParameter(e,mf);for(let r=0;r<n;++r){const s=i.getTransformFeedbackVarying(e,r);t[s.name]={index:r,type:s.type,size:s.size}}return t}function Th(i,e){const t=i.getProgramParameter(e,co),n=[],r=[];for(let a=0;a<t;++a){r.push(a),n.push({});const l=i.getActiveUniform(e,a);n[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],c=a[1];i.getActiveUniforms(e,r,i[l]).forEach(function(u,f){n[f][c]=u})});const s={},o=i.getProgramParameter(e,pf);for(let a=0;a<o;++a){const l=i.getActiveUniformBlockName(e,a),c={index:i.getUniformBlockIndex(e,l),usedByVertexShader:i.getActiveUniformBlockParameter(e,a,_f),usedByFragmentShader:i.getActiveUniformBlockParameter(e,a,xf),size:i.getActiveUniformBlockParameter(e,a,gf),uniformIndices:i.getActiveUniformBlockParameter(e,a,vf)};c.used=c.usedByVertexShader||c.usedByFragmentShader,s[l]=c}return{blockSpecs:s,uniformData:n}}function Lo(i,e){for(const t in e){const n=i[t];typeof n=="function"?n(e[t]):Lo(i[t],e[t])}}function ko(i,...e){const t=i.uniformSetters||i,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)ko(t,s[a])}else for(const o in s){const a=t[o];a&&a(s[o])}}}function Ah(i,e){const t={},n=i.getProgramParameter(e,df);for(let r=0;r<n;++r){const s=i.getActiveAttrib(e,r);if(Io(s))continue;const o=i.getAttribLocation(e,s.name),a=J[s.type],l=a.setter(i,o,a);l.location=o,t[s.name]=l}return t}function Sh(i,e){for(const t in e){const n=i[t];n&&n(e[t])}}function Fr(i,e,t){t.vertexArrayObject?i.bindVertexArray(t.vertexArrayObject):(Sh(e.attribSetters||e,t.attribs),t.indices&&i.bindBuffer(af,t.indices))}function ps(i,e){const t=wh(i,e),n=Ah(i,e),r={program:e,uniformSetters:t,attribSetters:n};return bn(i)&&(r.uniformBlockSpec=Th(i,e),r.transformFeedbackInfo=Eh(i,e)),r}const Ch=/\s|{|}|;/;function Xe(i,e,t,n,r){const s=Dr(t,n,r),o=[];if(e=e.map(function(c){if(!Ch.test(c)){const u=lo(c);if(u)c=u.text;else{const f=`no element with id: ${c}`;s.errorCallback(f),o.push(f)}}return c}),o.length)return lh(s,"");const a=s.callback;a&&(s.callback=(c,u)=>{a(c,c?void 0:ps(i,u))});const l=gh(i,e,s);return l?ps(i,l):null}const Ph=4,_s=5123;function zo(i,e,t,n,r,s){t=t===void 0?Ph:t;const o=e.indices,a=e.elementType,l=n===void 0?e.numElements:n;r=r===void 0?0:r,a||o?s!==void 0?i.drawElementsInstanced(t,l,a===void 0?_s:e.elementType,r,s):i.drawElements(t,l,a===void 0?_s:e.elementType,r):s!==void 0?i.drawArraysInstanced(t,r,l,s):i.drawArrays(t,r,l)}const Bo=36160,Fn=36161,Rh=3553,Dh=5121,Fh=6402,Mh=6408,Oh=33190,Ih=36012,Lh=35056,kh=36013,zh=32854,Bh=32855,Nh=36194,No=33189,Uo=6401,$o=36168,Mr=34041,Xi=36064,fi=36096,Go=36128,Or=33306,Hi=33071,Yi=9729,Uh=[{format:Mh,type:Dh,min:Yi,wrap:Hi},{format:Mr}],Ie={};Ie[Mr]=Or;Ie[Uo]=Go;Ie[$o]=Go;Ie[Fh]=fi;Ie[No]=fi;Ie[Oh]=fi;Ie[Ih]=fi;Ie[Lh]=Or;Ie[kh]=Or;function $h(i,e){return Ie[i]||Ie[e]}const dt={};dt[zh]=!0;dt[Bh]=!0;dt[Nh]=!0;dt[Mr]=!0;dt[No]=!0;dt[Uo]=!0;dt[$o]=!0;function Gh(i){return dt[i]}const Vh=32;function Xh(i){return i>=Xi&&i<Xi+Vh}function vt(i,e,t,n){const r=Bo,s=i.createFramebuffer();i.bindFramebuffer(r,s),t=t||i.drawingBufferWidth,n=n||i.drawingBufferHeight,e=e||Uh;const o=[],a={framebuffer:s,attachments:[],width:t,height:n};return e.forEach(function(l,c){let u=l.attachment;const f=l.samples,h=l.format;let m=l.attachmentPoint||$h(h,l.internalFormat);if(m||(m=Xi+c),Xh(m)&&o.push(m),!u)if(f!==void 0||Gh(h))u=i.createRenderbuffer(),i.bindRenderbuffer(Fn,u),f>1?i.renderbufferStorageMultisample(Fn,f,h,t,n):i.renderbufferStorage(Fn,h,t,n);else{const p=Object.assign({},l);p.width=t,p.height=n,p.auto===void 0&&(p.auto=!1,p.min=p.min||p.minMag||Yi,p.mag=p.mag||p.minMag||Yi,p.wrapS=p.wrapS||p.wrap||Hi,p.wrapT=p.wrapT||p.wrap||Hi),u=of(i,p)}if(tc(i,u))i.framebufferRenderbuffer(r,m,Fn,u);else if(vr(i,u))l.layer!==void 0?i.framebufferTextureLayer(r,m,u,l.level||0,l.layer):i.framebufferTexture2D(r,m,l.target||Rh,u,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(u)}),i.drawBuffers&&i.drawBuffers(o),a}function Vo(i,e,t){t=t||Bo,e?(i.bindFramebuffer(t,e.framebuffer),i.viewport(0,0,e.width,e.height)):(i.bindFramebuffer(t,null),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight))}function Hh(i,e,t){const n=i.createVertexArray();return i.bindVertexArray(n),e.length||(e=[e]),e.forEach(function(r){Fr(i,r,t)}),i.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:n}}const Yh=/^(.*?)_/;function Wh(i,e){Un(i,0);const t=i.getExtension(e);if(t){const n={},r=Yh.exec(e)[1],s="_"+r;for(const o in t){const a=t[o],l=typeof a=="function",c=l?r:s;let u=o;o.endsWith(c)&&(u=o.substring(0,o.length-c.length)),i[u]!==void 0?!l&&i[u]!==a&&Jl(u,i[u],a,o):l?i[u]=function(f){return function(){return f.apply(t,arguments)}}(a):(i[u]=a,n[u]=a)}n.constructor={name:t.constructor.name},Un(n,0)}return t}const xs=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function qh(i){for(let e=0;e<xs.length;++e)Wh(i,xs[e])}function jh(i,e){e=e||1,e=Math.max(0,e);const t=i.clientWidth*e|0,n=i.clientHeight*e|0;return i.width!==t||i.height!==n?(i.width=t,i.height=n,!0):!1}Number.prototype.clamp=function(i,e){return Math.min(Math.max(this,i),e)};Number.prototype.mix=function(i,e){return this*(1-e)+i*e};class Kh{fetchUpdates(){const e=this.events;return this.events=[],e}getState(){return this.state}storeEvent(e){switch(e.frame=this.frame,e.type){case"blur":case"focusout":this.state={};break;case"keyup":delete this.state[e.key];break;case"keydown":this.state[e.key]||(this.state[e.key]={frame:this.frame});break;case"pointerup":case"pointermove":case"pointerdown":this.state.mouse={pos:e.pos,buttons:e.buttons};break;case"wheel":this.state.wheel||(this.state.wheel={y:0}),this.state.wheel.y+=e.deltaYl;break}}constructor(e){this.state={},this.frame=0,this.events=[],this.sizes={width:1,height:1},this.listeners=[],window.addEventListener("blur",r=>{this.storeEvent({type:r.type})}),window.addEventListener("focusout",r=>{this.storeEvent({type:r.type})}),window.addEventListener("keydown",r=>{const s=r.key.toLowerCase();s!=="f12"&&(r.preventDefault(),this.storeEvent({key:s,type:r.type}))}),window.addEventListener("keyup",r=>{const s=r.key.toLowerCase();r.preventDefault(),this.storeEvent({key:s,type:r.type})});const t=r=>{const{sizes:s}=this;if(r.target.className!=="webgl")return;const o=[(r.clientX-s.horizontalOffset)/s.width*2-1,-((r.clientY-s.verticalOffset)/s.height)*2+1];this.storeEvent({type:r.type,pos:o,buttons:r.buttons})},n=r=>{this.storeEvent({type:r.type,deltaY:r.deltaY})};window.addEventListener("wheel",n),window.addEventListener("pointerdown",t),window.addEventListener("pointerup",t),window.addEventListener("pointermove",t),window.addEventListener("contextmenu",r=>(r.preventDefault(),!1),!1),e.listeners.push(this),e.update()}updateTime({frame:e}){this.frame=e}updateSize(e){this.sizes=e}}const k=class k{constructor(e,t,n=null,r=null){this.x=e,this.y=t,n!==null?(this.z=n,r!==null?(this.w=r,this.length=4):this.length=3):this.length=2}copy(e){return this.x=e.x,this.y=e.y,this.length>3&&(this.w=e.w??0),this.length>2&&(this.z=e.z??0),this}add(e){const t=typeof e=="number";return this.x+=t?e:e.x,this.y+=t?e:e.y,this.length>2&&(this.z+=t?e:e.z??0),this.length>3&&(this.w+=t?e:e.w??0),this}sub(e){const t=typeof e=="number";return this.x-=t?e:e.x,this.y-=t?e:e.y,this.length>2&&(this.z-=t?e:e.z??0),this.length>3&&(this.w-=t?e:e.w??0),this}mul(e){const t=typeof e=="number";return this.x*=t?e:e.x,this.y*=t?e:e.y,this.length>2&&(this.z*=t?e:e.z??0),this.length>3&&(this.w*=t?e:e.w??0),this}div(e){const t=typeof e=="number";return this.x/=t?e:e.x,this.y/=t?e:e.y,this.length>2&&(this.z/=t?e:e.z??0),this.length>3&&(this.w/=t?e:e.w??0),this}dot(e){let t=0;return t+=this.x*e.x,t+=this.y*e.y,t+=(this.z??0)*(e.z??0),t+=(this.w??0)*(e.w??0),t}min(e){const t=typeof e=="number";return this.x=Math.min(this.x,t?e:e.x),this.y=Math.min(this.y,t?e:e.y),this.length>2&&(this.z=Math.min(this.z,t?e:e.z??0)),this.length>3&&(this.w=Math.min(this.w,t?e:e.w??0)),this}clamp(e,t){return this.x=this.x.clamp(e,t),this.y=this.y.clamp(e,t),this.length>2&&(this.z=this.z.clamp(e,t)),this.length>3&&(this.w=this.w.clamp(e,t)),this}max(e){const t=typeof e=="number";return this.x=Math.max(this.x,t?e:e.x),this.y=Math.max(this.y,t?e:e.y),this.length>2&&(this.z=Math.max(this.z,t?e:e.z??0)),this.length>3&&(this.w=Math.max(this.w,t?e:e.w??0)),this}normalize(){const e=this.len();return this.x/=e,this.y/=e,this.length>2&&(this.z/=e),this.length>3&&(this.w/=e),this}cross(e){if(this.length===2)return this.x*e.y-this.y*e.x;if(this.length===3){const t=e.z??0,n=this.y*t-this.z*e.y,r=this.z*e.x-this.x*t,s=this.x*e.y-this.y*e.x;return this.x=n,this.y=r,this.z=s,this}else throw new Error("Can't do 4D cross (yet?)")}len(){return Math.sqrt(this.lenSq())}lenSq(){return this.dot(this)}clone(){return new k(this.x,this.y,this.z!==void 0?this.z:null,this.w!==void 0?this.w:null)}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.length>2&&(this.z=Math.abs(this.z)),this.length>3&&(this.w=Math.abs(this.w)),this}};Q(k,"X2",new k(1,0)),Q(k,"X3",new k(1,0,0)),Q(k,"X4",new k(1,0,0,0)),Q(k,"Y2",new k(0,1)),Q(k,"Y3",new k(0,1,0)),Q(k,"Y4",new k(0,1,0,0)),Q(k,"Z3",new k(0,0,1)),Q(k,"Z4",new k(0,0,1,0)),Q(k,"W4",new k(0,0,0,1)),Q(k,"ONE2",new k(1,1)),Q(k,"ONE3",new k(1,1,1)),Q(k,"ONE4",new k(1,1,1,1)),Q(k,"ZERO2",new k(0,0)),Q(k,"ZERO3",new k(0,0,0)),Q(k,"ZERO4",new k(0,0,0,0));let C=k;const Vt=class Vt{constructor(e,t,n){switch(this.scale=t,this.color=n,e){case"box":this.vertices=Vt.boxVertices;break;case"sphere":this.vertices=Vt.circleVertices;break;default:throw new Error("Unknown Mesh Type")}}};Q(Vt,"circleVertices",(()=>{const e=[];for(var n=0;n<=32;n++)e.push(Math.sin(n*Math.PI*2/32),Math.cos(n*Math.PI*2/32));return e})()),Q(Vt,"boxVertices",[1,1,1,-1,-1,-1,-1,1]);let Mt=Vt;class hi{constructor(e,t){switch(this.scale=t,e){case"box":this.type=e;break;case"sphere":this.type=e;break;default:throw new Error("Unknown Mesh Type")}}}function Qh(i,e,t){const n=t.clone().sub(e),s=(i.clone().sub(e).dot(n)/n.lenSq()).clamp(0,1);return e.clone().add(n.mul(s)).sub(i).len()}class ie{constructor({normal:e,collisionPoint:t=null}){this.normal=e,this.collisionPoint=t}}class Tn{constructor({position:e=new C(0,0),velocity:t=new C(0,0),collider:n=null,mesh:r=null}){this.position=e,this.velocity=t,r&&(this.mesh=r),n&&(this.collider=n)}collides(e){if(!this.collider||!e.collider)return!1;const t=this.collider.scale,n=e.collider.scale,r=this.position.clone().sub(e.position),s=r.clone().abs();switch(this.collider.type){case"sphere":switch(e.collider.type){case"sphere":const o=this.position.clone(),a=o.clone().add(r.clone().mul(-1).mul(t).normalize().mul(t));return o.sub(e.position).div(n),a.sub(e.position).div(n),Qh(e.position,o,a)<=1?new ie({normal:r.normalize().mul(-1)}):r.clone().div(t).len()<=1||r.clone().div(n).len()<=1?new ie({normal:r.normalize().mul(-1)}):null;case"box":s.sub(n).div(t);const c=n.clone();r.x<0&&(c.x*=-1),r.y<0&&(c.y*=-1);const u=e.position.clone().add(c);return s.x<=0&&s.y<=0?(s.mul(t),s.x<s.y?(u.x=this.position.x,r.y>0?new ie({normal:new C(0,1),collisionPoint:u}):new ie({normal:new C(0,-1),collisionPoint:u})):(u.y=this.position.y,r.x>0?new ie({normal:new C(1,0),collisionPoint:u}):new ie({normal:new C(-1,0),collisionPoint:u}))):s.x<=0&&s.y<=1?(u.x=this.position.x,r.y>0?new ie({normal:new C(0,1),collisionPoint:u}):new ie({normal:new C(0,-1),collisionPoint:u})):s.x<=1&&s.y<=0?(u.y=this.position.y,r.x>0?new ie({normal:new C(1,0),collisionPoint:u}):new ie({normal:new C(-1,0),collisionPoint:u})):s.lenSq()<=1?new ie({normal:s.normalize().mul(-1),collisionPoint:u}):null;default:return new Error("Unknown type.")}case"box":switch(e.collider.type){case"sphere":return s.sub(t).div(n),s.x<=0&&s.y<=0?new ie({normal:r.normalize().mul(-1)}):s.x<=0&&s.y<=1?r.y>0?new ie({normal:new C(0,1)}):new ie({normal:new C(0,-1)}):s.x<=1&&s.y<=0?r.x>0?new ie({normal:new C(1,0)}):new ie({normal:new C(-1,0)}):s.lenSq()<=1?(console.log("corner"),new ie({normal:s.normalize().mul(-1)})):null;case"box":return s.sub(t).sub(n),s.x<=2&&s.y<=2;default:return new Error("Unknown type.")}default:return new Error("Unknown type.")}}}function Zh(){Array.prototype.peek=function(){return this.length?this[this.length-1]:null},Array.prototype.equals=function(i){if(!Array.isArray(i)||i.length!==this.length)return!1;for(var e=0;e<this.length;e++)if(this[e]!==i[e])return!1;return!0}}Zh();class Jh{constructor(){this.states=[]}stateParams(){return{}}cleanup(){for(;this.states.length;)this.cleanupState(this.states.pop())}currentState(){return this.states.peek()}addState(e){e.init(this),this.states.push(e)}cleanupState(e){e&&e.cleanup(this)}replaceState(e){this.cleanupState(this.states.pop()),this.addState(e)}pushState(e){var t;(t=this.currentState())==null||t.pause(),this.addState(e)}popState(){var e;this.cleanupState(this.states.pop()),(e=this.currentState())==null||e.resume()}}class ed{constructor(){}init(e){}cleanup(){}pause(){}resume(){}}function We(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Xo(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var be={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},qt={duration:.5,overwrite:!1,delay:0},Ir,ae,H,Ce=1e8,$=1/Ce,Wi=Math.PI*2,td=Wi/4,nd=0,Ho=Math.sqrt,id=Math.cos,rd=Math.sin,ne=function(e){return typeof e=="string"},j=function(e){return typeof e=="function"},Ke=function(e){return typeof e=="number"},Lr=function(e){return typeof e>"u"},Ve=function(e){return typeof e=="object"},de=function(e){return e!==!1},kr=function(){return typeof window<"u"},Mn=function(e){return j(e)||ne(e)},Yo=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},le=Array.isArray,qi=/(?:-?\.?\d|\.)+/gi,Wo=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$t=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ti=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,qo=/[+-]=-?[.\d]+/,jo=/[^,'"\[\]\s]+/gi,sd=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,W,Be,ji,zr,we={},Hn={},Ko,Qo=function(e){return(Hn=Ot(e,we))&&xe},Br=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},mn=function(e,t){return!t&&console.warn(e)},Zo=function(e,t){return e&&(we[e]=t)&&Hn&&(Hn[e]=t)||we},pn=function(){return 0},od={suppressEvents:!0,isStart:!0,kill:!1},kn={suppressEvents:!0,kill:!1},ad={suppressEvents:!0},Nr={},st=[],Ki={},Jo,ge={},Ai={},gs=30,zn=[],Ur="",$r=function(e){var t=e[0],n,r;if(Ve(t)||j(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=zn.length;r--&&!zn[r].targetTest(t););n=zn[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Ea(e[r],n)))||e.splice(r,1);return e},St=function(e){return e._gsap||$r(Pe(e))[0]._gsap},ea=function(e,t,n){return(n=e[t])&&j(n)?e[t]():Lr(n)&&e.getAttribute&&e.getAttribute(t)||n},me=function(e,t){return(e=e.split(",")).forEach(t)||e},K=function(e){return Math.round(e*1e5)/1e5||0},te=function(e){return Math.round(e*1e7)/1e7||0},Xt=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},ld=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Yn=function(){var e=st.length,t=st.slice(0),n,r;for(Ki={},st.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},ta=function(e,t,n,r){st.length&&!ae&&Yn(),e.render(t,n,r||ae&&t<0&&(e._initted||e._startAt)),st.length&&!ae&&Yn()},na=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(jo).length<2?t:ne(e)?e.trim():e},ia=function(e){return e},Fe=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},cd=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},Ot=function(e,t){for(var n in t)e[n]=t[n];return e},vs=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Ve(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},Wn=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},sn=function(e){var t=e.parent||W,n=e.keyframes?cd(le(e.keyframes)):Fe;if(de(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},ud=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},ra=function(e,t,n,r,s){n===void 0&&(n="_first"),r===void 0&&(r="_last");var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},di=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},lt=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ct=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},fd=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Qi=function(e,t,n,r){return e._startAt&&(ae?e._startAt.revert(kn):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},hd=function i(e){return!e||e._ts&&i(e.parent)},ys=function(e){return e._repeat?jt(e._tTime,e=e.duration()+e._rDelay)*e:0},jt=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},qn=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},mi=function(e){return e._end=te(e._start+(e._tDur/Math.abs(e._ts||e._rts||$)||0))},pi=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=te(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),mi(e),n._dirty||Ct(n,e)),e},sa=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=qn(e.rawTime(),t),(!t._dur||An(0,t.totalDuration(),n)-t._tTime>$)&&t.render(n,!0)),Ct(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-$}},Ne=function(e,t,n,r){return t.parent&&lt(t),t._start=te((Ke(n)?n:n||e!==W?Se(e,n,t):e._time)+t._delay),t._end=te(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ra(e,t,"_first","_last",e._sort?"_start":0),Zi(t)||(e._recent=t),r||sa(e,t),e._ts<0&&pi(e,e._tTime),e},oa=function(e,t){return(we.ScrollTrigger||Br("scrollTrigger",t))&&we.ScrollTrigger.create(t,e)},aa=function(e,t,n,r,s){if(Vr(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!ae&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Jo!==ve.frame)return st.push(e),e._lazy=[s,r],1},dd=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},Zi=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},md=function(e,t,n,r){var s=e.ratio,o=t<0||!t&&(!e._start&&dd(e)&&!(!e._initted&&Zi(e))||(e._ts<0||e._dp._ts<0)&&!Zi(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=An(0,e._tDur,t),u=jt(l,a),e._yoyo&&u&1&&(o=1-o),u!==jt(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ae||r||e._zTime===$||!t&&e._zTime){if(!e._initted&&aa(e,t,r,n,l))return;for(f=e._zTime,e._zTime=t||(n?$:0),n||(n=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&Qi(e,t,n,!0),e._onUpdate&&!n&&ye(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&ye(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&lt(e,1),!n&&!ae&&(ye(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},pd=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Kt=function(e,t,n,r){var s=e._repeat,o=te(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:te(o*(s+1)+e._rDelay*s):o,a>0&&!r&&pi(e,e._tTime=e._tDur*a),e.parent&&mi(e),n||Ct(e.parent,e),e},bs=function(e){return e instanceof ce?Ct(e):Kt(e,e._dur)},_d={_start:0,endTime:pn,totalDuration:pn},Se=function i(e,t,n){var r=e.labels,s=e._recent||_d,o=e.duration()>=Ce?s.endTime(!1):e._dur,a,l,c;return ne(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(l=l/100*(le(n)?n[0]:n).totalDuration()),a>1?i(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},on=function(e,t,n){var r=Ke(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=de(l.vars.inherit)&&l.parent;o.immediateRender=de(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Z(t[0],o,t[s+1])},mt=function(e,t){return e||e===0?t(e):t},An=function(e,t,n){return n<e?e:n>t?t:n},oe=function(e,t){return!ne(e)||!(t=sd.exec(e))?"":t[1]},xd=function(e,t,n){return mt(n,function(r){return An(e,t,r)})},Ji=[].slice,la=function(e,t){return e&&Ve(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ve(e[0]))&&!e.nodeType&&e!==Be},gd=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return ne(r)&&!t||la(r,1)?(s=n).push.apply(s,Pe(r)):n.push(r)})||n},Pe=function(e,t,n){return H&&!t&&H.selector?H.selector(e):ne(e)&&!n&&(ji||!Qt())?Ji.call((t||zr).querySelectorAll(e),0):le(e)?gd(e,n):la(e)?Ji.call(e,0):e?[e]:[]},er=function(e){return e=Pe(e)[0]||mn("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Pe(t,n.querySelectorAll?n:n===e?mn("Invalid scope")||zr.createElement("div"):e)}},ca=function(e){return e.sort(function(){return .5-Math.random()})},ua=function(e){if(j(e))return e;var t=Ve(e)?e:{each:e},n=Pt(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,f=r;return ne(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],f=r[1]),function(h,m,p){var d=(p||t).length,_=o[d],g,x,v,b,y,A,T,S,w;if(!_){if(w=t.grid==="auto"?0:(t.grid||[1,Ce])[1],!w){for(T=-Ce;T<(T=p[w++].getBoundingClientRect().left)&&w<d;);w<d&&w--}for(_=o[d]=[],g=l?Math.min(w,d)*u-.5:r%w,x=w===Ce?0:l?d*f/w-.5:r/w|0,T=0,S=Ce,A=0;A<d;A++)v=A%w-g,b=x-(A/w|0),_[A]=y=c?Math.abs(c==="y"?b:v):Ho(v*v+b*b),y>T&&(T=y),y<S&&(S=y);r==="random"&&ca(_),_.max=T-S,_.min=S,_.v=d=(parseFloat(t.amount)||parseFloat(t.each)*(w>d?d-1:c?c==="y"?d/w:w:Math.max(w,d/w))||0)*(r==="edges"?-1:1),_.b=d<0?s-d:s,_.u=oe(t.amount||t.each)||0,n=n&&d<0?ya(n):n}return d=(_[h]-_.min)/_.max||0,te(_.b+(n?n(d):d)*_.v)+_.u}},tr=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=te(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Ke(n)?0:oe(n))}},fa=function(e,t){var n=le(e),r,s;return!n&&Ve(e)&&(r=n=e.radius||Ce,e.values?(e=Pe(e.values),(s=!Ke(e[0]))&&(r*=r)):e=tr(e.increment)),mt(t,n?j(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Ce,u=0,f=e.length,h,m;f--;)s?(h=e[f].x-a,m=e[f].y-l,h=h*h+m*m):h=Math.abs(e[f]-a),h<c&&(c=h,u=f);return u=!r||c<=r?e[u]:o,s||u===o||Ke(o)?u:u+oe(o)}:tr(e))},ha=function(e,t,n,r){return mt(le(e)?!t:n===!0?!!(n=0):!r,function(){return le(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},vd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,o){return o(s)},r)}},yd=function(e,t){return function(n){return e(parseFloat(n))+(t||oe(n))}},bd=function(e,t,n){return ma(e,t,0,1,n)},da=function(e,t,n){return mt(n,function(r){return e[~~t(r)]})},wd=function i(e,t,n){var r=t-e;return le(e)?da(e,i(0,e.length),t):mt(n,function(s){return(r+(s-e)%r)%r+e})},Ed=function i(e,t,n){var r=t-e,s=r*2;return le(e)?da(e,i(0,e.length-1),t):mt(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},_n=function(e){for(var t=0,n="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?jo:qi),n+=e.substr(t,r-t)+ha(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},ma=function(e,t,n,r,s){var o=t-e,a=r-n;return mt(s,function(l){return n+((l-e)/o*a||0)})},Td=function i(e,t,n,r){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=ne(e),a={},l,c,u,f,h;if(n===!0&&(r=1)&&(n=null),o)e={p:e},t={p:t};else if(le(e)&&!le(t)){for(u=[],f=e.length,h=f-2,c=1;c<f;c++)u.push(i(e[c-1],e[c]));f--,s=function(p){p*=f;var d=Math.min(h,~~p);return u[d](p-d)},n=t}else r||(e=Ot(le(e)?[]:{},e));if(!u){for(l in t)Gr.call(a,e,l,"get",t[l]);s=function(p){return Yr(p,a)||(o?e.p:e)}}}return mt(n,s)},ws=function(e,t,n){var r=e.labels,s=Ce,o,a,l;for(o in r)a=r[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},ye=function(e,t,n){var r=e.vars,s=r[t],o=H,a=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,n&&st.length&&Yn(),a&&(H=a),u=l?s.apply(c,l):s.call(c),H=o,u},nn=function(e){return lt(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ae),e.progress()<1&&ye(e,"onInterrupt"),e},Gt,pa=[],_a=function(e){if(e)if(e=!e.name&&e.default||e,kr()||e.headless){var t=e.name,n=j(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:pn,render:Yr,add:Gr,kill:Ud,modifier:Nd,rawVars:0},o={targetTest:0,get:0,getSetter:Hr,aliases:{},register:0};if(Qt(),e!==r){if(ge[t])return;Fe(r,Fe(Wn(e,s),o)),Ot(r.prototype,Ot(s,Wn(e,o))),ge[r.prop=t]=r,e.targetTest&&(zn.push(r),Nr[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Zo(t,r),e.register&&e.register(xe,r,pe)}else pa.push(e)},U=255,rn={aqua:[0,U,U],lime:[0,U,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,U],navy:[0,0,128],white:[U,U,U],olive:[128,128,0],yellow:[U,U,0],orange:[U,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[U,0,0],pink:[U,192,203],cyan:[0,U,U],transparent:[U,U,U,0]},Si=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*U+.5|0},xa=function(e,t,n){var r=e?Ke(e)?[e>>16,e>>8&U,e&U]:0:rn.black,s,o,a,l,c,u,f,h,m,p;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),rn[e])r=rn[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&U,r&U,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&U,e&U]}else if(e.substr(0,3)==="hsl"){if(r=p=e.match(qi),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=Si(l+1/3,s,o),r[1]=Si(l,s,o),r[2]=Si(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(Wo),n&&r.length<4&&(r[3]=1),r}else r=e.match(qi)||rn.transparent;r=r.map(Number)}return t&&!p&&(s=r[0]/U,o=r[1]/U,a=r[2]/U,f=Math.max(s,o,a),h=Math.min(s,o,a),u=(f+h)/2,f===h?l=c=0:(m=f-h,c=u>.5?m/(2-f-h):m/(f+h),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),n&&r.length<4&&(r[3]=1),r},ga=function(e){var t=[],n=[],r=-1;return e.split(ot).forEach(function(s){var o=s.match($t)||[];t.push.apply(t,o),n.push(r+=o.length+1)}),t.c=n,t},Es=function(e,t,n){var r="",s=(e+r).match(ot),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(h){return(h=xa(h,t,1))&&o+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),n&&(u=ga(e),l=n.c,l.join(r)!==u.c.join(r)))for(c=e.replace(ot,"1").split($t),f=c.length-1;a<f;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:n).shift());if(!c)for(c=e.split(ot),f=c.length-1;a<f;a++)r+=c[a]+s[a];return r+c[f]},ot=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in rn)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),Ad=/hsl[a]?\(/,va=function(e){var t=e.join(" "),n;if(ot.lastIndex=0,ot.test(t))return n=Ad.test(t),e[1]=Es(e[1],n),e[0]=Es(e[0],n,ga(e[1])),!0},xn,ve=function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,o=s,a=[],l,c,u,f,h,m,p=function d(_){var g=i()-r,x=_===!0,v,b,y,A;if((g>e||g<0)&&(n+=g-t),r+=g,y=r-n,v=y-o,(v>0||x)&&(A=++f.frame,h=y-f.time*1e3,f.time=y=y/1e3,o+=v+(v>=s?4:s-v),b=1),x||(l=c(d)),b)for(m=0;m<a.length;m++)a[m](y,h,A,_)};return f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(_){return h/(1e3/(_||60))},wake:function(){Ko&&(!ji&&kr()&&(Be=ji=window,zr=Be.document||{},we.gsap=xe,(Be.gsapVersions||(Be.gsapVersions=[])).push(xe.version),Qo(Hn||Be.GreenSockGlobals||!Be.gsap&&Be||{}),pa.forEach(_a)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=u||function(_){return setTimeout(_,o-f.time*1e3+1|0)},xn=1,p(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),xn=0,c=pn},lagSmoothing:function(_,g){e=_||1/0,t=Math.min(g||33,e)},fps:function(_){s=1e3/(_||240),o=f.time*1e3+s},add:function(_,g,x){var v=g?function(b,y,A,T){_(b,y,A,T),f.remove(v)}:_;return f.remove(_),a[x?"unshift":"push"](v),Qt(),v},remove:function(_,g){~(g=a.indexOf(_))&&a.splice(g,1)&&m>=g&&m--},_listeners:a},f}(),Qt=function(){return!xn&&ve.wake()},I={},Sd=/^[\d.\-M][\d.\-,\s]/,Cd=/["']/g,Pd=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,o=n.length,a,l,c;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(Cd,"").trim():+c,r=l.substr(a+1).trim();return t},Rd=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},Dd=function(e){var t=(e+"").split("("),n=I[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Pd(t[1])]:Rd(e).split(",").map(na)):I._CE&&Sd.test(e)?I._CE("",e):n},ya=function(e){return function(t){return 1-e(1-t)}},ba=function i(e,t){for(var n=e._first,r;n;)n instanceof ce?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},Pt=function(e,t){return e&&(j(e)?e:I[e]||Dd(e))||t},Lt=function(e,t,n,r){n===void 0&&(n=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},o;return me(e,function(a){I[a]=we[a]=s,I[o=a.toLowerCase()]=n;for(var l in s)I[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=I[a+"."+l]=s[l]}),s},wa=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Ci=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/Wi*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*rd((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:wa(a);return s=Wi/s,l.config=function(c,u){return i(e,c,u)},l},Pi=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:wa(n);return r.config=function(s){return i(e,s)},r};me("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Lt(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});I.Linear.easeNone=I.none=I.Linear.easeIn;Lt("Elastic",Ci("in"),Ci("out"),Ci());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<r?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};Lt("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Lt("Expo",function(i){return i?Math.pow(2,10*(i-1)):0});Lt("Circ",function(i){return-(Ho(1-i*i)-1)});Lt("Sine",function(i){return i===1?1:-id(i*td)+1});Lt("Back",Pi("in"),Pi("out"),Pi());I.SteppedEase=I.steps=we.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,o=1-$;return function(a){return((r*An(0,o,a)|0)+s)*n}}};qt.ease=I["quad.out"];me("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return Ur+=i+","+i+"Params,"});var Ea=function(e,t){this.id=nd++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ea,this.set=t?t.getSetter:Hr},gn=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Kt(this,+t.duration,1,1),this.data=t.data,H&&(this._ctx=H,H.data.push(this)),xn||ve.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Kt(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(Qt(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(pi(this,n),!s._dp||s.parent||sa(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ne(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===$||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),ta(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+ys(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+ys(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?jt(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-$?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?qn(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-$?0:this._rts,this.totalTime(An(-Math.abs(this._delay),this._tDur,s),r!==!1),mi(this),fd(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Qt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==$&&(this._tTime-=$)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Ne(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(de(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?qn(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=ad);var r=ae;return ae=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ae=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,bs(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,bs(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Se(this,n),de(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,de(r))},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-$:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-$,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-$)},e.eventCallback=function(n,r,s){var o=this.vars;return arguments.length>1?(r?(o[n]=r,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete o[n],this):o[n]},e.then=function(n){var r=this;return new Promise(function(s){var o=j(n)?n:ia,a=function(){var c=r.then;r.then=null,j(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){nn(this)},i}();Fe(gn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$,_prom:0,_ps:!1,_rts:1});var ce=function(i){Xo(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=de(n.sortChildren),W&&Ne(n.parent||W,We(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&oa(We(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return on(0,arguments,this),this},t.from=function(r,s,o){return on(1,arguments,this),this},t.fromTo=function(r,s,o,a){return on(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,sn(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Z(r,s,Se(this,o),1),this},t.call=function(r,s,o){return Ne(this,Z.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Z(r,o,Se(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,sn(o).immediateRender=de(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,f){return a.startAt=o,sn(a).immediateRender=de(a.immediateRender),this.staggerTo(r,s,a,l,c,u,f)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:te(r),f=this._zTime<0!=r<0&&(this._initted||!c),h,m,p,d,_,g,x,v,b,y,A,T;if(this!==W&&u>l&&r>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),h=u,b=this._start,v=this._ts,g=!v,f&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(A=this._yoyo,_=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(_*100+r,s,o);if(h=te(u%_),u===l?(d=this._repeat,h=c):(d=~~(u/_),d&&d===u/_&&(h=c,d--),h>c&&(h=c)),y=jt(this._tTime,_),!a&&this._tTime&&y!==d&&this._tTime-y*_-this._dur<=0&&(y=d),A&&d&1&&(h=c-h,T=1),d!==y&&!this._lock){var S=A&&y&1,w=S===(A&&d&1);if(d<y&&(S=!S),a=S?0:u%c?c:u,this._lock=1,this.render(a||(T?0:te(d*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&ye(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,w&&(this._lock=2,a=S?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;ba(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=pd(this,te(a),te(h)),x&&(u-=h-(h=x._start))),this._tTime=u,this._time=h,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&h&&!s&&!d&&(ye(this,"onStart"),this._tTime!==u))return this;if(h>=a&&r>=0)for(m=this._first;m;){if(p=m._next,(m._act||h>=m._start)&&m._ts&&x!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(h-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(h-m._start)*m._ts,s,o),h!==this._time||!this._ts&&!g){x=0,p&&(u+=this._zTime=-$);break}}m=p}else{m=this._last;for(var P=r<0?r:h;m;){if(p=m._prev,(m._act||P<=m._end)&&m._ts&&x!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(P-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(P-m._start)*m._ts,s,o||ae&&(m._initted||m._startAt)),h!==this._time||!this._ts&&!g){x=0,p&&(u+=this._zTime=P?-$:$);break}}m=p}}if(x&&!s&&(this.pause(),x.render(h>=a?0:-$)._zTime=h>=a?1:-1,this._ts))return this._start=b,mi(this),this.render(r,s,o);this._onUpdate&&!s&&ye(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(b===this._start||Math.abs(v)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&lt(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(ye(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Ke(s)||(s=Se(this,s,r)),!(r instanceof gn)){if(le(r))return r.forEach(function(a){return o.add(a,s)}),this;if(ne(r))return this.addLabel(r,s);if(j(r))r=Z.delayedCall(0,r);else return this}return this!==r?Ne(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ce);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Z?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return ne(r)?this.removeLabel(r):j(r)?this.killTweensOf(r):(di(this,r),r===this._recent&&(this._recent=this._last),Ct(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=te(ve.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Se(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=Z.delayedCall(0,s||pn,o);return a.data="isPause",this._hasPause=1,Ne(this,a,Se(this,r))},t.removePause=function(r){var s=this._first;for(r=Se(this,r);s;)s._start===r&&s.data==="isPause"&&lt(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)tt!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=Pe(r),l=this._first,c=Ke(s),u;l;)l instanceof Z?ld(l._targets,a)&&(c?(!tt||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=Se(o,r),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,h=l.immediateRender,m,p=Z.to(o,Fe({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||$,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());p._dur!==_&&Kt(p,_,0,1).render(p._time,!0,!0),m=1}u&&u.apply(p,f||[])}},s));return h?p.render(0):p},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Fe({startAt:{time:Se(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),ws(this,Se(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),ws(this,Se(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+$)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Ct(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Ct(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=Ce,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ne(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Kt(o,o===W&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(W._ts&&(ta(W,qn(r,W)),Jo=ve.frame),ve.frame>=gs){gs+=be.autoSleep||120;var s=W._first;if((!s||!s._ts)&&be.autoSleep&&ve._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ve.sleep()}}},e}(gn);Fe(ce.prototype,{_lock:0,_hasPause:0,_forcing:0});var Fd=function(e,t,n,r,s,o,a){var l=new pe(this._pt,e,t,0,1,Ra,null,s),c=0,u=0,f,h,m,p,d,_,g,x;for(l.b=n,l.e=r,n+="",r+="",(g=~r.indexOf("random("))&&(r=_n(r)),o&&(x=[n,r],o(x,e,t),n=x[0],r=x[1]),h=n.match(Ti)||[];f=Ti.exec(r);)p=f[0],d=r.substring(c,f.index),m?m=(m+1)%5:d.substr(-5)==="rgba("&&(m=1),p!==h[u++]&&(_=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:d||u===1?d:",",s:_,c:p.charAt(1)==="="?Xt(_,p)-_:parseFloat(p)-_,m:m&&m<4?Math.round:0},c=Ti.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(qo.test(r)||g)&&(l.e=0),this._pt=l,l},Gr=function(e,t,n,r,s,o,a,l,c,u){j(r)&&(r=r(s||0,e,o));var f=e[t],h=n!=="get"?n:j(f)?c?e[t.indexOf("set")||!j(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,m=j(f)?c?kd:Ca:Xr,p;if(ne(r)&&(~r.indexOf("random(")&&(r=_n(r)),r.charAt(1)==="="&&(p=Xt(h,r)+(oe(h)||0),(p||p===0)&&(r=p))),!u||h!==r||nr)return!isNaN(h*r)&&r!==""?(p=new pe(this._pt,e,t,+h||0,r-(h||0),typeof f=="boolean"?Bd:Pa,0,m),c&&(p.fp=c),a&&p.modifier(a,this,e),this._pt=p):(!f&&!(t in e)&&Br(t,r),Fd.call(this,e,t,h,r,m,l||be.stringFilter,c))},Md=function(e,t,n,r,s){if(j(e)&&(e=an(e,s,t,n,r)),!Ve(e)||e.style&&e.nodeType||le(e)||Yo(e))return ne(e)?an(e,s,t,n,r):e;var o={},a;for(a in e)o[a]=an(e[a],s,t,n,r);return o},Ta=function(e,t,n,r,s,o){var a,l,c,u;if(ge[e]&&(a=new ge[e]).init(s,a.rawVars?t[e]:Md(t[e],r,s,o,n),n,r,o)!==!1&&(n._pt=l=new pe(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Gt))for(c=n._ptLookup[n._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},tt,nr,Vr=function i(e,t,n){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,f=r.yoyoEase,h=r.keyframes,m=r.autoRevert,p=e._dur,d=e._startAt,_=e._targets,g=e.parent,x=g&&g.data==="nested"?g.vars.targets:_,v=e._overwrite==="auto"&&!Ir,b=e.timeline,y,A,T,S,w,P,O,F,M,N,z,L,B;if(b&&(!h||!s)&&(s="none"),e._ease=Pt(s,qt.ease),e._yEase=f?ya(Pt(f===!0?s:f,qt.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!b&&!!r.runBackwards,!b||h&&!r.stagger){if(F=_[0]?St(_[0]).harness:0,L=F&&r[F.prop],y=Wn(r,Nr),d&&(d._zTime<0&&d.progress(1),t<0&&u&&a&&!m?d.render(-1,!0):d.revert(u&&p?kn:od),d._lazy=0),o){if(lt(e._startAt=Z.set(_,Fe({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!d&&de(l),startAt:null,delay:0,onUpdate:c&&function(){return ye(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ae||!a&&!m)&&e._startAt.revert(kn),a&&p&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(u&&p&&!d){if(t&&(a=!1),T=Fe({overwrite:!1,data:"isFromStart",lazy:a&&!d&&de(l),immediateRender:a,stagger:0,parent:g},y),L&&(T[F.prop]=L),lt(e._startAt=Z.set(_,T)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ae?e._startAt.revert(kn):e._startAt.render(-1,!0)),e._zTime=t,!a)i(e._startAt,$,$);else if(!t)return}for(e._pt=e._ptCache=0,l=p&&de(l)||l&&!p,A=0;A<_.length;A++){if(w=_[A],O=w._gsap||$r(_)[A]._gsap,e._ptLookup[A]=N={},Ki[O.id]&&st.length&&Yn(),z=x===_?A:x.indexOf(w),F&&(M=new F).init(w,L||y,e,z,x)!==!1&&(e._pt=S=new pe(e._pt,w,M.name,0,1,M.render,M,0,M.priority),M._props.forEach(function(G){N[G]=S}),M.priority&&(P=1)),!F||L)for(T in y)ge[T]&&(M=Ta(T,y,e,z,w,x))?M.priority&&(P=1):N[T]=S=Gr.call(e,w,T,"get",y[T],z,x,0,r.stringFilter);e._op&&e._op[A]&&e.kill(w,e._op[A]),v&&e._pt&&(tt=e,W.killTweensOf(w,N,e.globalTime(t)),B=!e.parent,tt=0),e._pt&&l&&(Ki[O.id]=1)}P&&Da(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!B,h&&t<=0&&b.render(Ce,!0,!0)},Od=function(e,t,n,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,f,h,m;if(!c)for(c=e._ptCache[t]=[],h=e._ptLookup,m=e._targets.length;m--;){if(u=h[m][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return nr=1,e.vars[t]="+=0",Vr(e,a),nr=0,l?mn(t+" not eligible for reset"):1;c.push(u)}for(m=c.length;m--;)f=c[m],u=f._pt||f,u.s=(r||r===0)&&!s?r:u.s+(r||0)+o*u.c,u.c=n-u.s,f.e&&(f.e=K(n)+oe(f.e)),f.b&&(f.b=u.s+oe(f.b))},Id=function(e,t){var n=e[0]?St(e[0]).harness:0,r=n&&n.aliases,s,o,a,l;if(!r)return t;s=Ot({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Ld=function(e,t,n,r){var s=t.ease||r||"power1.inOut",o,a;if(le(t))a=n[e]||(n[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},an=function(e,t,n,r,s){return j(e)?e.call(t,n,r,s):ne(e)&&~e.indexOf("random(")?_n(e):e},Aa=Ur+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Sa={};me(Aa+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return Sa[i]=1});var Z=function(i){Xo(e,i);function e(n,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=i.call(this,o?r:sn(r))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,h=l.stagger,m=l.overwrite,p=l.keyframes,d=l.defaults,_=l.scrollTrigger,g=l.yoyoEase,x=r.parent||W,v=(le(n)||Yo(n)?Ke(n[0]):"length"in r)?[n]:Pe(n),b,y,A,T,S,w,P,O;if(a._targets=v.length?$r(v):mn("GSAP target "+n+" not found. https://gsap.com",!be.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,p||h||Mn(c)||Mn(u)){if(r=a.vars,b=a.timeline=new ce({data:"nested",defaults:d||{},targets:x&&x.data==="nested"?x.vars.targets:v}),b.kill(),b.parent=b._dp=We(a),b._start=0,h||Mn(c)||Mn(u)){if(T=v.length,P=h&&ua(h),Ve(h))for(S in h)~Aa.indexOf(S)&&(O||(O={}),O[S]=h[S]);for(y=0;y<T;y++)A=Wn(r,Sa),A.stagger=0,g&&(A.yoyoEase=g),O&&Ot(A,O),w=v[y],A.duration=+an(c,We(a),y,w,v),A.delay=(+an(u,We(a),y,w,v)||0)-a._delay,!h&&T===1&&A.delay&&(a._delay=u=A.delay,a._start+=u,A.delay=0),b.to(w,A,P?P(y,w,v):0),b._ease=I.none;b.duration()?c=u=0:a.timeline=0}else if(p){sn(Fe(b.vars.defaults,{ease:"none"})),b._ease=Pt(p.ease||r.ease||"none");var F=0,M,N,z;if(le(p))p.forEach(function(L){return b.to(v,L,">")}),b.duration();else{A={};for(S in p)S==="ease"||S==="easeEach"||Ld(S,p[S],A,p.easeEach);for(S in A)for(M=A[S].sort(function(L,B){return L.t-B.t}),F=0,y=0;y<M.length;y++)N=M[y],z={ease:N.e,duration:(N.t-(y?M[y-1].t:0))/100*c},z[S]=N.v,b.to(v,z,F),F+=z.duration;b.duration()<c&&b.to({},{duration:c-b.duration()})}}c||a.duration(c=b.duration())}else a.timeline=0;return m===!0&&!Ir&&(tt=We(a),W.killTweensOf(v),tt=0),Ne(x,We(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!c&&!p&&a._start===te(x._time)&&de(f)&&hd(We(a))&&x.data!=="nested")&&(a._tTime=-$,a.render(Math.max(0,-u)||0)),_&&oa(We(a),_),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,f=r>l-$&&!u?l:r<$?0:r,h,m,p,d,_,g,x,v,b;if(!c)md(this,r,s,o);else if(f!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,v=this.timeline,this._repeat){if(d=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(d*100+r,s,o);if(h=te(f%d),f===l?(p=this._repeat,h=c):(p=~~(f/d),p&&p===te(f/d)&&(h=c,p--),h>c&&(h=c)),g=this._yoyo&&p&1,g&&(b=this._yEase,h=c-h),_=jt(this._tTime,d),h===a&&!o&&this._initted&&p===_)return this._tTime=f,this;p!==_&&(v&&this._yEase&&ba(v,g),this.vars.repeatRefresh&&!g&&!this._lock&&this._time!==d&&this._initted&&(this._lock=o=1,this.render(te(d*p),!0).invalidate()._lock=0))}if(!this._initted){if(aa(this,u?r:h,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==_))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(b||this._ease)(h/c),this._from&&(this.ratio=x=1-x),h&&!a&&!s&&!p&&(ye(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(x,m.d),m=m._next;v&&v.render(r<0?r:v._dur*v._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&Qi(this,r,s,o),ye(this,"onUpdate")),this._repeat&&p!==_&&this.vars.onRepeat&&!s&&this.parent&&ye(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&Qi(this,r,!0,!0),(r||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&lt(this,1),!s&&!(u&&!a)&&(f||a||g)&&(ye(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){xn||ve.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Vr(this,c),u=this._ease(c/this._dur),Od(this,r,s,o,a,u,c,l)?this.resetTo(r,s,o,a,1):(pi(this,0),this.parent||ra(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?nn(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,tt&&tt.vars.overwrite!==!0)._first||nn(this),this.parent&&o!==this.timeline.totalDuration()&&Kt(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Pe(r):a,c=this._ptLookup,u=this._pt,f,h,m,p,d,_,g;if((!s||s==="all")&&ud(a,l))return s==="all"&&(this._pt=0),nn(this);for(f=this._op=this._op||[],s!=="all"&&(ne(s)&&(d={},me(s,function(x){return d[x]=1}),s=d),s=Id(a,s)),g=a.length;g--;)if(~l.indexOf(a[g])){h=c[g],s==="all"?(f[g]=s,p=h,m={}):(m=f[g]=f[g]||{},p=s);for(d in p)_=h&&h[d],_&&((!("kill"in _.d)||_.d.kill(d)===!0)&&di(this,_,"_pt"),delete h[d]),m!=="all"&&(m[d]=1)}return this._initted&&!this._pt&&u&&nn(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return on(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return on(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return W.killTweensOf(r,s,o)},e}(gn);Fe(Z.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});me("staggerTo,staggerFrom,staggerFromTo",function(i){Z[i]=function(){var e=new ce,t=Ji.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var Xr=function(e,t,n){return e[t]=n},Ca=function(e,t,n){return e[t](n)},kd=function(e,t,n,r){return e[t](r.fp,n)},zd=function(e,t,n){return e.setAttribute(t,n)},Hr=function(e,t){return j(e[t])?Ca:Lr(e[t])&&e.setAttribute?zd:Xr},Pa=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Bd=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Ra=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Yr=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Nd=function(e,t,n,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,n),s=o},Ud=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?di(this,t,"_pt"):t.dep||(n=1),t=r;return!n},$d=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Da=function(e){for(var t=e._pt,n,r,s,o;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=n}e._pt=s},pe=function(){function i(t,n,r,s,o,a,l,c,u){this.t=n,this.s=s,this.c=o,this.p=r,this.r=a||Pa,this.d=l||this,this.set=c||Xr,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=$d,this.m=n,this.mt=s,this.tween=r},i}();me(Ur+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return Nr[i]=1});we.TweenMax=we.TweenLite=Z;we.TimelineLite=we.TimelineMax=ce;W=new ce({sortChildren:!1,defaults:qt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});be.stringFilter=va;var Rt=[],Bn={},Gd=[],Ts=0,Vd=0,Ri=function(e){return(Bn[e]||Gd).map(function(t){return t()})},ir=function(){var e=Date.now(),t=[];e-Ts>2&&(Ri("matchMediaInit"),Rt.forEach(function(n){var r=n.queries,s=n.conditions,o,a,l,c;for(a in r)o=Be.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(n.revert(),l&&t.push(n))}),Ri("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),Ts=e,Ri("matchMedia"))},Fa=function(){function i(t,n){this.selector=n&&er(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Vd++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){j(n)&&(s=r,r=n,n=j);var o=this,a=function(){var c=H,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=er(s)),H=o,f=r.apply(o,arguments),j(f)&&o._r.push(f),H=c,o.selector=u,o.isReverted=!1,f};return o.last=a,n===j?a(o,function(l){return o.add(null,l)}):n?o[n]=a:a},e.ignore=function(n){var r=H;H=null,n(this),H=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Z&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(n)}),l=s.data.length;l--;)c=s.data[l],c instanceof ce?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Z)&&c.revert&&c.revert(n);s._r.forEach(function(u){return u(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=Rt.length;o--;)Rt[o].id===this.id&&Rt.splice(o,1)},e.revert=function(n){this.kill(n||{})},i}(),Xd=function(){function i(t){this.contexts=[],this.scope=t,H&&H.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){Ve(n)||(n={matches:n});var o=new Fa(0,s||this.scope),a=o.conditions={},l,c,u;H&&!o.selector&&(o.selector=H.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=n;for(c in n)c==="all"?u=1:(l=Be.matchMedia(n[c]),l&&(Rt.indexOf(o)<0&&Rt.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(ir):l.addEventListener("change",ir)));return u&&r(o,function(f){return o.add(null,f)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i}(),jn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return _a(r)})},timeline:function(e){return new ce(e)},getTweensOf:function(e,t){return W.getTweensOf(e,t)},getProperty:function(e,t,n,r){ne(e)&&(e=Pe(e)[0]);var s=St(e||{}).get,o=n?ia:na;return n==="native"&&(n=""),e&&(t?o((ge[t]&&ge[t].get||s)(e,t,n,r)):function(a,l,c){return o((ge[a]&&ge[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,n){if(e=Pe(e),e.length>1){var r=e.map(function(u){return xe.quickSetter(u,t,n)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}e=e[0]||{};var o=ge[t],a=St(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;Gt._pt=0,f.init(e,n?u+n:u,Gt,0,[e]),f.render(1,f),Gt._pt&&Yr(1,Gt)}:a.set(e,l);return o?c:function(u){return c(e,l,n?u+n:u,a,1)}},quickTo:function(e,t,n){var r,s=xe.to(e,Ot((r={},r[t]="+=0.1",r.paused=!0,r),n||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return W.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Pt(e.ease,qt.ease)),vs(qt,e||{})},config:function(e){return vs(be,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!ge[a]&&!we[a]&&mn(t+" effect requires "+a+" plugin.")}),Ai[t]=function(a,l,c){return n(Pe(a),Fe(l||{},s),c)},o&&(ce.prototype[t]=function(a,l,c){return this.add(Ai[t](a,Ve(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){I[e]=Pt(t)},parseEase:function(e,t){return arguments.length?Pt(e,t):I},getById:function(e){return W.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ce(e),r,s;for(n.smoothChildTiming=de(e.smoothChildTiming),W.remove(n),n._dp=0,n._time=n._tTime=W._time,r=W._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Z&&r.vars.onComplete===r._targets[0]))&&Ne(n,r,r._start-r._delay),r=s;return Ne(W,n,0),n},context:function(e,t){return e?new Fa(e,t):H},matchMedia:function(e){return new Xd(e)},matchMediaRefresh:function(){return Rt.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||ir()},addEventListener:function(e,t){var n=Bn[e]||(Bn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Bn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:wd,wrapYoyo:Ed,distribute:ua,random:ha,snap:fa,normalize:bd,getUnit:oe,clamp:xd,splitColor:xa,toArray:Pe,selector:er,mapRange:ma,pipe:vd,unitize:yd,interpolate:Td,shuffle:ca},install:Qo,effects:Ai,ticker:ve,updateRoot:ce.updateRoot,plugins:ge,globalTimeline:W,core:{PropTween:pe,globals:Zo,Tween:Z,Timeline:ce,Animation:gn,getCache:St,_removeLinkedListItem:di,reverting:function(){return ae},context:function(e){return e&&H&&(H.data.push(e),e._ctx=H),H},suppressOverwrites:function(e){return Ir=e}}};me("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return jn[i]=Z[i]});ve.add(ce.updateRoot);Gt=jn.to({},{duration:0});var Hd=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Yd=function(e,t){var n=e._targets,r,s,o;for(r in t)for(s=n.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=Hd(o,r)),o&&o.modifier&&o.modifier(t[r],e,n[s],r))},Di=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(ne(s)&&(l={},me(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Yd(a,s)}}}},xe=jn.registerPlugin({name:"attr",init:function(e,t,n,r,s){var o,a,l;this.tween=n;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)ae?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Di("roundProps",tr),Di("modifiers"),Di("snap",fa))||jn;Z.version=ce.version=xe.version="3.12.5";Ko=1;kr()&&Qt();I.Power0;I.Power1;I.Power2;I.Power3;I.Power4;I.Linear;I.Quad;I.Cubic;I.Quart;I.Quint;I.Strong;I.Elastic;I.Back;I.SteppedEase;I.Bounce;I.Sine;I.Expo;I.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var As,nt,Ht,Wr,Tt,Ss,qr,Wd=function(){return typeof window<"u"},Qe={},Et=180/Math.PI,Yt=Math.PI/180,Ut=Math.atan2,Cs=1e8,jr=/([A-Z])/g,qd=/(left|right|width|margin|padding|x)/i,jd=/[\s,\(]\S/,Ue={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rr=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Kd=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Qd=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Zd=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Ma=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Oa=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Jd=function(e,t,n){return e.style[t]=n},e0=function(e,t,n){return e.style.setProperty(t,n)},t0=function(e,t,n){return e._gsap[t]=n},n0=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},i0=function(e,t,n,r,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},r0=function(e,t,n,r,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},q="transform",_e=q+"Origin",s0=function i(e,t){var n=this,r=this.target,s=r.style,o=r._gsap;if(e in Qe&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ue[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=je(r,a)}):this.tfm[e]=o.x?o[e]:je(r,e),e===_e&&(this.tfm.zOrigin=o.zOrigin);else return Ue.transform.split(",").forEach(function(a){return i.call(n,a,t)});if(this.props.indexOf(q)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(_e,t,"")),e=q}(s||t)&&this.props.push(e,t,s[e])},Ia=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},o0=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(jr,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=qr(),(!s||!s.isStart)&&!n[q]&&(Ia(n),r.zOrigin&&n[_e]&&(n[_e]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},La=function(e,t){var n={target:e,props:[],revert:o0,save:s0};return e._gsap||xe.core.getCache(e),t&&t.split(",").forEach(function(r){return n.save(r)}),n},ka,sr=function(e,t){var n=nt.createElementNS?nt.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):nt.createElement(e);return n&&n.style?n:nt.createElement(e)},Ge=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(jr,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,Zt(t)||t,1)||""},Ps="O,Moz,ms,Ms,Webkit".split(","),Zt=function(e,t,n){var r=t||Tt,s=r.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Ps[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Ps[o]:"")+e},or=function(){Wd()&&window.document&&(As=window,nt=As.document,Ht=nt.documentElement,Tt=sr("div")||{style:{}},sr("div"),q=Zt(q),_e=q+"Origin",Tt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ka=!!Zt("perspective"),qr=xe.core.reverting,Wr=1)},Fi=function i(e){var t=sr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(Ht.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),Ht.removeChild(t),this.style.cssText=s,o},Rs=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},za=function(e){var t;try{t=e.getBBox()}catch{t=Fi.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Fi||(t=Fi.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Rs(e,["x","cx","x1"])||0,y:+Rs(e,["y","cy","y1"])||0,width:0,height:0}:t},Ba=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&za(e))},It=function(e,t){if(t){var n=e.style,r;t in Qe&&t!==_e&&(t=q),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(jr,"-$1").toLowerCase())):n.removeAttribute(t)}},it=function(e,t,n,r,s,o){var a=new pe(e._pt,t,n,0,1,o?Oa:Ma);return e._pt=a,a.b=r,a.e=s,e._props.push(n),a},Ds={deg:1,rad:1,turn:1},a0={grid:1,flex:1},ct=function i(e,t,n,r){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Tt.style,l=qd.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,h=r==="px",m=r==="%",p,d,_,g;if(r===o||!s||Ds[r]||Ds[o])return s;if(o!=="px"&&!h&&(s=i(e,t,n,"px")),g=e.getCTM&&Ba(e),(m||o==="%")&&(Qe[t]||~t.indexOf("adius")))return p=g?e.getBBox()[l?"width":"height"]:e[u],K(m?s/p*f:s/100*p);if(a[l?"width":"height"]=f+(h?o:r),d=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,g&&(d=(e.ownerSVGElement||{}).parentNode),(!d||d===nt||!d.appendChild)&&(d=nt.body),_=d._gsap,_&&m&&_.width&&l&&_.time===ve.time&&!_.uncache)return K(s/_.width*f);if(m&&(t==="height"||t==="width")){var x=e.style[t];e.style[t]=f+r,p=e[u],x?e.style[t]=x:It(e,t)}else(m||o==="%")&&!a0[Ge(d,"display")]&&(a.position=Ge(e,"position")),d===e&&(a.position="static"),d.appendChild(Tt),p=Tt[u],d.removeChild(Tt),a.position="absolute";return l&&m&&(_=St(d),_.time=ve.time,_.width=d[u]),K(h?p*s/f:p&&s?f/p*s:0)},je=function(e,t,n,r){var s;return Wr||or(),t in Ue&&t!=="transform"&&(t=Ue[t],~t.indexOf(",")&&(t=t.split(",")[0])),Qe[t]&&t!=="transform"?(s=yn(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Qn(Ge(e,_e))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Kn[t]&&Kn[t](e,t,n)||Ge(e,t)||ea(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?ct(e,t,s,n)+n:s},l0=function(e,t,n,r){if(!n||n==="none"){var s=Zt(t,e,1),o=s&&Ge(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=Ge(e,"borderTopColor"))}var a=new pe(this._pt,e.style,t,0,1,Ra),l=0,c=0,u,f,h,m,p,d,_,g,x,v,b,y;if(a.b=n,a.e=r,n+="",r+="",r==="auto"&&(d=e.style[t],e.style[t]=r,r=Ge(e,t)||r,d?e.style[t]=d:It(e,t)),u=[n,r],va(u),n=u[0],r=u[1],h=n.match($t)||[],y=r.match($t)||[],y.length){for(;f=$t.exec(r);)_=f[0],x=r.substring(l,f.index),p?p=(p+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(p=1),_!==(d=h[c++]||"")&&(m=parseFloat(d)||0,b=d.substr((m+"").length),_.charAt(1)==="="&&(_=Xt(m,_)+b),g=parseFloat(_),v=_.substr((g+"").length),l=$t.lastIndex-v.length,v||(v=v||be.units[t]||b,l===r.length&&(r+=v,a.e+=v)),b!==v&&(m=ct(e,t,d,v)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:m,c:g-m,m:p&&p<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?Oa:Ma;return qo.test(r)&&(a.e=0),this._pt=a,a},Fs={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},c0=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=Fs[n]||n,t[1]=Fs[r]||r,t.join(" ")},u0=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,o=n._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Qe[a]&&(l=1,a=a==="transformOrigin"?_e:q),It(n,a);l&&(It(n,q),o&&(o.svg&&n.removeAttribute("transform"),yn(n,1),o.uncache=1,Ia(r)))}},Kn={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var o=e._pt=new pe(e._pt,t,n,0,0,u0);return o.u=r,o.pr=-10,o.tween=s,e._props.push(n),1}}},vn=[1,0,0,1,0,0],Na={},Ua=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ms=function(e){var t=Ge(e,q);return Ua(t)?vn:t.substr(7).match(Wo).map(K)},Kr=function(e,t){var n=e._gsap||St(e),r=e.style,s=Ms(e),o,a,l,c;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?vn:s):(s===vn&&!e.offsetParent&&e!==Ht&&!n.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Ht.appendChild(e)),s=Ms(e),l?r.display=l:It(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ht.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},ar=function(e,t,n,r,s,o){var a=e._gsap,l=s||Kr(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,m=l[0],p=l[1],d=l[2],_=l[3],g=l[4],x=l[5],v=t.split(" "),b=parseFloat(v[0])||0,y=parseFloat(v[1])||0,A,T,S,w;n?l!==vn&&(T=m*_-p*d)&&(S=b*(_/T)+y*(-d/T)+(d*x-_*g)/T,w=b*(-p/T)+y*(m/T)-(m*x-p*g)/T,b=S,y=w):(A=za(e),b=A.x+(~v[0].indexOf("%")?b/100*A.width:b),y=A.y+(~(v[1]||v[0]).indexOf("%")?y/100*A.height:y)),r||r!==!1&&a.smooth?(g=b-c,x=y-u,a.xOffset=f+(g*m+x*d)-g,a.yOffset=h+(g*p+x*_)-x):a.xOffset=a.yOffset=0,a.xOrigin=b,a.yOrigin=y,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!n,e.style[_e]="0px 0px",o&&(it(o,a,"xOrigin",c,b),it(o,a,"yOrigin",u,y),it(o,a,"xOffset",f,a.xOffset),it(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",b+" "+y)},yn=function(e,t){var n=e._gsap||new Ea(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Ge(e,_e)||"0",u,f,h,m,p,d,_,g,x,v,b,y,A,T,S,w,P,O,F,M,N,z,L,B,G,He,Le,ke,Ee,pt,he,Te;return u=f=h=d=_=g=x=v=b=0,m=p=1,n.svg=!!(e.getCTM&&Ba(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[q]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[q]!=="none"?l[q]:"")),r.scale=r.rotate=r.translate="none"),T=Kr(e,n.svg),n.svg&&(n.uncache?(G=e.getBBox(),c=n.xOrigin-G.x+"px "+(n.yOrigin-G.y)+"px",B=""):B=!t&&e.getAttribute("data-svg-origin"),ar(e,B||c,!!B||n.originIsAbsolute,n.smooth!==!1,T)),y=n.xOrigin||0,A=n.yOrigin||0,T!==vn&&(O=T[0],F=T[1],M=T[2],N=T[3],u=z=T[4],f=L=T[5],T.length===6?(m=Math.sqrt(O*O+F*F),p=Math.sqrt(N*N+M*M),d=O||F?Ut(F,O)*Et:0,x=M||N?Ut(M,N)*Et+d:0,x&&(p*=Math.abs(Math.cos(x*Yt))),n.svg&&(u-=y-(y*O+A*M),f-=A-(y*F+A*N))):(Te=T[6],pt=T[7],Le=T[8],ke=T[9],Ee=T[10],he=T[11],u=T[12],f=T[13],h=T[14],S=Ut(Te,Ee),_=S*Et,S&&(w=Math.cos(-S),P=Math.sin(-S),B=z*w+Le*P,G=L*w+ke*P,He=Te*w+Ee*P,Le=z*-P+Le*w,ke=L*-P+ke*w,Ee=Te*-P+Ee*w,he=pt*-P+he*w,z=B,L=G,Te=He),S=Ut(-M,Ee),g=S*Et,S&&(w=Math.cos(-S),P=Math.sin(-S),B=O*w-Le*P,G=F*w-ke*P,He=M*w-Ee*P,he=N*P+he*w,O=B,F=G,M=He),S=Ut(F,O),d=S*Et,S&&(w=Math.cos(S),P=Math.sin(S),B=O*w+F*P,G=z*w+L*P,F=F*w-O*P,L=L*w-z*P,O=B,z=G),_&&Math.abs(_)+Math.abs(d)>359.9&&(_=d=0,g=180-g),m=K(Math.sqrt(O*O+F*F+M*M)),p=K(Math.sqrt(L*L+Te*Te)),S=Ut(z,L),x=Math.abs(S)>2e-4?S*Et:0,b=he?1/(he<0?-he:he):0),n.svg&&(B=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Ua(Ge(e,q)),B&&e.setAttribute("transform",B))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(m*=-1,x+=d<=0?180:-180,d+=d<=0?180:-180):(p*=-1,x+=x<=0?180:-180)),t=t||n.uncache,n.x=u-((n.xPercent=u&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=h+o,n.scaleX=K(m),n.scaleY=K(p),n.rotation=K(d)+a,n.rotationX=K(_)+a,n.rotationY=K(g)+a,n.skewX=x+a,n.skewY=v+a,n.transformPerspective=b+o,(n.zOrigin=parseFloat(c.split(" ")[2])||!t&&n.zOrigin||0)&&(r[_e]=Qn(c)),n.xOffset=n.yOffset=0,n.force3D=be.force3D,n.renderTransform=n.svg?h0:ka?$a:f0,n.uncache=0,n},Qn=function(e){return(e=e.split(" "))[0]+" "+e[1]},Mi=function(e,t,n){var r=oe(t);return K(parseFloat(t)+parseFloat(ct(e,"x",n+"px",r)))+r},f0=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,$a(e,t)},yt="0deg",tn="0px",bt=") ",$a=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,c=n.rotation,u=n.rotationY,f=n.rotationX,h=n.skewX,m=n.skewY,p=n.scaleX,d=n.scaleY,_=n.transformPerspective,g=n.force3D,x=n.target,v=n.zOrigin,b="",y=g==="auto"&&e&&e!==1||g===!0;if(v&&(f!==yt||u!==yt)){var A=parseFloat(u)*Yt,T=Math.sin(A),S=Math.cos(A),w;A=parseFloat(f)*Yt,w=Math.cos(A),o=Mi(x,o,T*w*-v),a=Mi(x,a,-Math.sin(A)*-v),l=Mi(x,l,S*w*-v+v)}_!==tn&&(b+="perspective("+_+bt),(r||s)&&(b+="translate("+r+"%, "+s+"%) "),(y||o!==tn||a!==tn||l!==tn)&&(b+=l!==tn||y?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+bt),c!==yt&&(b+="rotate("+c+bt),u!==yt&&(b+="rotateY("+u+bt),f!==yt&&(b+="rotateX("+f+bt),(h!==yt||m!==yt)&&(b+="skew("+h+", "+m+bt),(p!==1||d!==1)&&(b+="scale("+p+", "+d+bt),x.style[q]=b||"translate(0, 0)"},h0=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,c=n.skewX,u=n.skewY,f=n.scaleX,h=n.scaleY,m=n.target,p=n.xOrigin,d=n.yOrigin,_=n.xOffset,g=n.yOffset,x=n.forceCSS,v=parseFloat(o),b=parseFloat(a),y,A,T,S,w;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Yt,c*=Yt,y=Math.cos(l)*f,A=Math.sin(l)*f,T=Math.sin(l-c)*-h,S=Math.cos(l-c)*h,c&&(u*=Yt,w=Math.tan(c-u),w=Math.sqrt(1+w*w),T*=w,S*=w,u&&(w=Math.tan(u),w=Math.sqrt(1+w*w),y*=w,A*=w)),y=K(y),A=K(A),T=K(T),S=K(S)):(y=f,S=h,A=T=0),(v&&!~(o+"").indexOf("px")||b&&!~(a+"").indexOf("px"))&&(v=ct(m,"x",o,"px"),b=ct(m,"y",a,"px")),(p||d||_||g)&&(v=K(v+p-(p*y+d*T)+_),b=K(b+d-(p*A+d*S)+g)),(r||s)&&(w=m.getBBox(),v=K(v+r/100*w.width),b=K(b+s/100*w.height)),w="matrix("+y+","+A+","+T+","+S+","+v+","+b+")",m.setAttribute("transform",w),x&&(m.style[q]=w)},d0=function(e,t,n,r,s){var o=360,a=ne(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Et:1),c=l-r,u=r+c+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*Cs)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*Cs)%o-~~(c/o)*o)),e._pt=h=new pe(e._pt,t,n,r,c,Kd),h.e=u,h.u="deg",e._props.push(n),h},Os=function(e,t){for(var n in t)e[n]=t[n];return e},m0=function(e,t,n){var r=Os({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,c,u,f,h,m,p;r.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[q]=t,a=yn(n,1),It(n,q),n.setAttribute("transform",c)):(c=getComputedStyle(n)[q],o[q]=t,a=yn(n,1),o[q]=c);for(l in Qe)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=oe(c),p=oe(u),f=m!==p?ct(n,l,c,p):parseFloat(c),h=parseFloat(u),e._pt=new pe(e._pt,a,l,f,h-f,rr),e._pt.u=p||0,e._props.push(l));Os(a,r)};me("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",o=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(a){return e<2?i+a:"border"+a+i});Kn[e>1?"border"+i:i]=function(a,l,c,u,f){var h,m;if(arguments.length<4)return h=o.map(function(p){return je(a,p,c)}),m=h.join(" "),m.split(h[0]).length===5?h[0]:m;h=(u+"").split(" "),m={},o.forEach(function(p,d){return m[p]=h[d]=h[d]||h[(d-1)/2|0]}),a.init(l,m,f)}});var Ga={name:"css",register:or,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var o=this._props,a=e.style,l=n.vars.startAt,c,u,f,h,m,p,d,_,g,x,v,b,y,A,T,S;Wr||or(),this.styles=this.styles||La(e),S=this.styles.props,this.tween=n;for(d in t)if(d!=="autoRound"&&(u=t[d],!(ge[d]&&Ta(d,t,n,r,e,s)))){if(m=typeof u,p=Kn[d],m==="function"&&(u=u.call(n,r,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=_n(u)),p)p(this,e,d,u,n)&&(T=1);else if(d.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(d)+"").trim(),u+="",ot.lastIndex=0,ot.test(c)||(_=oe(c),g=oe(u)),g?_!==g&&(c=ct(e,d,c,g)+g):_&&(u+=_),this.add(a,"setProperty",c,u,r,s,0,0,d),o.push(d),S.push(d,0,a[d]);else if(m!=="undefined"){if(l&&d in l?(c=typeof l[d]=="function"?l[d].call(n,r,e,s):l[d],ne(c)&&~c.indexOf("random(")&&(c=_n(c)),oe(c+"")||c==="auto"||(c+=be.units[d]||oe(je(e,d))||""),(c+"").charAt(1)==="="&&(c=je(e,d))):c=je(e,d),h=parseFloat(c),x=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),d in Ue&&(d==="autoAlpha"&&(h===1&&je(e,"visibility")==="hidden"&&f&&(h=0),S.push("visibility",0,a.visibility),it(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),d!=="scale"&&d!=="transform"&&(d=Ue[d],~d.indexOf(",")&&(d=d.split(",")[0]))),v=d in Qe,v){if(this.styles.save(d),b||(y=e._gsap,y.renderTransform&&!t.parseTransform||yn(e,t.parseTransform),A=t.smoothOrigin!==!1&&y.smooth,b=this._pt=new pe(this._pt,a,q,0,1,y.renderTransform,y,0,-1),b.dep=1),d==="scale")this._pt=new pe(this._pt,y,"scaleY",y.scaleY,(x?Xt(y.scaleY,x+f):f)-y.scaleY||0,rr),this._pt.u=0,o.push("scaleY",d),d+="X";else if(d==="transformOrigin"){S.push(_e,0,a[_e]),u=c0(u),y.svg?ar(e,u,0,A,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==y.zOrigin&&it(this,y,"zOrigin",y.zOrigin,g),it(this,a,d,Qn(c),Qn(u)));continue}else if(d==="svgOrigin"){ar(e,u,1,A,0,this);continue}else if(d in Na){d0(this,y,d,h,x?Xt(h,x+u):u);continue}else if(d==="smoothOrigin"){it(this,y,"smooth",y.smooth,u);continue}else if(d==="force3D"){y[d]=u;continue}else if(d==="transform"){m0(this,u,e);continue}}else d in a||(d=Zt(d)||d);if(v||(f||f===0)&&(h||h===0)&&!jd.test(u)&&d in a)_=(c+"").substr((h+"").length),f||(f=0),g=oe(u)||(d in be.units?be.units[d]:_),_!==g&&(h=ct(e,d,c,g)),this._pt=new pe(this._pt,v?y:a,d,h,(x?Xt(h,x+f):f)-h,!v&&(g==="px"||d==="zIndex")&&t.autoRound!==!1?Zd:rr),this._pt.u=g||0,_!==g&&g!=="%"&&(this._pt.b=c,this._pt.r=Qd);else if(d in a)l0.call(this,e,d,c,x?x+u:u);else if(d in e)this.add(e,d,c||e[d],x?x+u:u,r,s);else if(d!=="parseTransform"){Br(d,u);continue}v||(d in a?S.push(d,0,a[d]):S.push(d,1,c||e[d])),o.push(d)}}T&&Da(this)},render:function(e,t){if(t.tween._time||!qr())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:je,aliases:Ue,getSetter:function(e,t,n){var r=Ue[t];return r&&r.indexOf(",")<0&&(t=r),t in Qe&&t!==_e&&(e._gsap.x||je(e,"x"))?n&&Ss===n?t==="scale"?n0:t0:(Ss=n||{})&&(t==="scale"?i0:r0):e.style&&!Lr(e.style[t])?Jd:~t.indexOf("-")?e0:Hr(e,t)},core:{_removeProperty:It,_getMatrix:Kr}};xe.utils.checkPrefix=Zt;xe.core.getStyleSaver=La;(function(i,e,t,n){var r=me(i+","+e+","+t,function(s){Qe[s]=1});me(e,function(s){be.units[s]="deg",Na[s]=1}),Ue[r[13]]=i+","+e,me(n,function(s){var o=s.split(":");Ue[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");me("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){be.units[i]="px"});xe.registerPlugin(Ga);var Va=xe.registerPlugin(Ga)||xe;Va.core.Tween;const p0=console.log;console.log=function(){p0.apply(this,arguments)};function Ae({min:i=0,max:e,steps:t=2}){return Math.floor(t*Math.random())/(t-1)*(e-i)+i}class Qr{constructor(){this.type=Object.getPrototypeOf(this).constructor}}class lr extends Qr{constructor(e){super(),this.playerIndex=e}}class cr extends Qr{constructor(e,t){super(),this.playerIndex=e,this.direction=t}}class Is extends Qr{constructor(e){super(),this.delta=e}}class _0 extends ed{update(e,t,n){const r=(n.w!==void 0)-+(n.s!==void 0),s=(n.arrowup!==void 0)-+(n.arrowdown!==void 0);e.commands.push(new cr(0,r)),n.d!==void 0&&e.commands.push(new lr(0)),e.commands.push(new cr(1,s)),n.arrowleft!==void 0&&e.commands.push(new lr(1))}}class x0 extends Jh{constructor(){super(),this.pushState(new _0)}init(){}update(e,t){var n;(n=this.currentState())==null||n.update(e,this,t)}}const qe=class qe extends Tn{constructor({position:e,color:t,attackDir:n}){super({position:e,collider:new hi("box",new C(.02,.2)),mesh:new Mt("box",new C(.02,.2),t)}),this.origin=e.clone(),this.attackDir=n.mul(qe.attackDistance),this.size=new C(.02,.2),this.direction=0,this.attackData={time:0}}isAttacking(){return this.attackData.time>.8*qe.attackTime}attackAnimation(){this.position.x=this.origin.x+this.attackDir.x.mix(0,1-(this.attackData.time/qe.attackTime).clamp(0,1))}update(e){this.position.y+=e*this.direction*2,this.position.y=Math.min(Math.max(this.position.y,-1+this.size.y),1-this.size.y),this.attackData.time-=e,this.attackAnimation()}attack(){this.attackData.time>0||(this.attackData.time=qe.attackTime,this.position.add(this.attackDir.clone().mul(qe.attackDistance)))}};Q(qe,"attackTime",.2),Q(qe,"attackDistance",.1);let Zn=qe;class g0 extends Tn{constructor({position:e,velocity:t}){const n=new C(1,1,1,1);super({position:e,velocity:t,collider:new hi("sphere",new C(.05,.05)),mesh:new Mt("sphere",new C(.05,.05),n)}),this.size=.05}}class v0 extends Tn{constructor({position:e,size:t,triggerSize:n}){const r=new C(0,0,0,1);super({position:e,collider:new hi("sphere",new C(n,n)),mesh:new Mt("sphere",new C(t,t),r)}),this.size=t,this.origin=e.clone()}}class Ls extends Tn{constructor({position:e,color:t,size:n,velocity:r,totalTime:s,timeToLive:o}){super({position:e,velocity:r,mesh:new Mt("sphere",new C(n,n),t)}),this.size=n,this.orginalColor=t.clone(),this.originalScale=n,this.totalTime=s,this.timeToLive=s}}class On extends Tn{constructor({position:e,scale:t}){super({position:e,collider:new hi("box",t),mesh:new Mt("box",new C(t,t))})}}class y0{constructor(e){this.commands=[],this.data=e,this.bounce=new Audio("./bounce.wav"),e.listeners.push(this),this.data.state.balls=this.setupBalls(),this.data.state.ball=new g0({position:new C(0,0),velocity:new C(.6,.8).mul(2)}),this.data.state.paddles=[new Zn({position:new C(-1.9,0),color:new C(1,0,0,1),attackDir:new C(1,0)}),new Zn({position:new C(1.9,0),color:new C(0,1,0,1),attackDir:new C(-1,0)})],this.data.state.walls=[new On({position:new C(-3,0),scale:new C(1,4)}),new On({position:new C(3,0),scale:new C(1,4)}),new On({position:new C(0,2),scale:new C(6,1)}),new On({position:new C(0,-2),scale:new C(6,1)})],this.data.state.particles=[]}setupBalls(){const e=[];for(var t=0;t<400;t++){const n=new C(Ae({max:1.2,min:-1.5,steps:200}),Ae({max:.95,min:-.95,steps:100})),r=Ae({max:.02,min:.01,steps:5});e.push(new v0({position:n,size:r,triggerSize:.1}))}return e}configUpdated(){this.data.state.lines||(this.data.state.lines=[])}updateColor(e){this.activeColor=structuredClone(e),this.activeColor.push(1),this.currLine.color=this.activeColor}moveBall(e){const{ball:t,walls:n,paddles:r,particles:s}=this.data.state;t.position.x+=e*t.velocity.x,t.position.y+=e*t.velocity.y;var o={hit:!1};for(let a=0;a<n.length;a++){const l=n[a],c=t.collides(l);if(c){const u=this.bounce.cloneNode();u.playbackRate=Ae({max:.4,min:.2,steps:100}),u.volume=0,u.play();const f=c.collisionPoint.clone().add(c.normal.clone().mul(t.mesh.scale));if(f.clone().sub(t.position).dot(c.normal)<0&&(t.position=f),t.velocity.dot(c.normal)<0){o.startVelocity=t.velocity.clone(),o.normal=c.normal;const h=C.Z3.clone().cross(c.normal).normalize();h.mul(h.dot(t.velocity));const m=t.velocity.clone().sub(h);t.velocity.add(m.mul(-2)),o.hit=!0,o.endVelocity=t.velocity.clone()}}}for(let a=0;a<r.length;a++){const l=r[a],c=t.collides(l);if(c){const u=c.collisionPoint.clone().add(c.normal.clone().mul(t.mesh.scale));if(u.clone().sub(t.position).dot(c.normal)<0&&(t.position=u),t.velocity.dot(c.normal)<0){o.startVelocity=t.velocity.clone(),o.normal=c.normal;const f=C.Z3.clone().cross(c.normal).normalize();f.mul(f.dot(t.velocity));const h=t.velocity.clone().sub(f);t.velocity.add(h.mul(-2)),t.mesh.color=l.mesh.color,o.hit=!0,l.isAttacking()&&t.velocity.add(h.mul(.4)),l.direction&&(t.velocity.y+=l.direction*1),o.endVelocity=t.velocity.clone()}}}if(!o.hit&&Ae({max:1,min:0,steps:100})>.1){const a=Math.atan2(t.velocity.x,t.velocity.y)+Math.PI,l=a+Ae({max:1,min:-1,steps:100}),c=a+Ae({max:Math.PI/4,min:-Math.PI/4,steps:100}),u=t.mesh.scale.len();s.push(new Ls({position:t.position.clone().add(C.ONE2.clone().mul(new C(Math.sin(c),Math.cos(c)).mul(u))),color:t.mesh.color.clone(),size:.01,velocity:new C(Math.sin(l),Math.cos(l)).mul(Ae({max:.1,min:.01,steps:200})),totalTime:.2}))}if(o.hit){const a=Va.timeline(),l=1-Math.abs(t.velocity.dot(o.normal)).clamp(0,1);o.normal.x!==0?a.fromTo(t.mesh.scale,{x:(t.size/3).mix(t.size,l)},{duration:1.5,x:t.size,ease:"elastic.out"}).fromTo(t.mesh.scale,{y:(1.5*t.size).mix(t.size,l)},{duration:1.5,y:t.size,ease:"elastic.out"},"<"):a.fromTo(t.mesh.scale,{y:(t.size/3).mix(t.size,l)},{duration:1.5,y:t.size,ease:"elastic.out"}).fromTo(t.mesh.scale,{x:(1.5*t.size).mix(t.size,l)},{duration:1.5,x:t.size,ease:"elastic.out"},"<")}return o}spawnParticles({startVelocity:e,endVelocity:t,normal:n}){const{ball:r,particles:s}=this.data.state;t.normalize().dot(e.normalize())>0;{const o=t.clone().add(e).normalize(),a=o.clone().mul(-1);Math.atan2(a.y,a.x)+Math.PI,e.mul(-1),Math.atan2(e.y,e.x)+Math.PI,Math.atan2(t.y,t.x)+Math.PI,Math.atan2(o.y,o.x)+Math.PI;const l=Math.atan2(n.x,n.y),c=Math.abs(n.dot(e.clone().normalize())),u=10*c+Ae({max:10*c,min:0,steps:11});for(let f=0;f<u;f++){const h=Ae({max:Math.PI/2,min:Math.PI/3,steps:200}),m=l+h*Ae({max:1,min:-1,steps:2});s.push(new Ls({position:r.position.clone(),color:r.mesh.color.clone(),size:.01,velocity:new C(Math.sin(m),Math.cos(m)).mul(Ae({max:1,min:.4,steps:200})),totalTime:.4}))}}}applyCommand(e){switch(e.type){case cr:this.data.state.paddles[e.playerIndex].direction=e.direction;break;case lr:this.data.state.paddles[e.playerIndex].attack();break;case Is:const{delta:n}=e,{ball:r,balls:s,paddles:o,particles:a}=this.data.state;var t=this.moveBall(n);for(let l=0;l<s.length;l++){const c=s[l];c.mesh.color.sub(C.ONE3.clone().mul(2*n)).max(C.ZERO3),c.collides(r)&&c.mesh.color.copy(r.mesh.color).mul(3)}for(let l=a.length-1;l>=0;l--){const c=a[l];c.position.add(c.velocity.clone().mul(n)),c.timeToLive-=n,c.mesh.scale=C.ONE2.clone().mul(c.size*c.timeToLive/c.totalTime),c.timeToLive<=0&&a.splice(l,1)}for(let l=0;l<o.length;l++)o[l].update(n);t.hit&&this.spawnParticles(t);break}}update(e){this.commands.push(new Is(e)),this.commands.forEach(t=>{this.applyCommand(t)}),this.commands.length=0}}var b0=`#version 300 es\r
precision lowp float;

#define PI 3.141592654 \r
#define TAU (2.0*PI)\r
#define BAD_PROBE_INDEX_COLOR vec4(1.,1.,0.,1.);\r
#define DEBUG_COLOR vec4(0.,1.,1.,1.);\r
#define RESERVED_COLOR vec4(0.5,0.5,0.,1.);

struct CascadeConfig { \r
  int depth;\r
  float minDistance;\r
  float maxDistance;\r
};

struct DebugInfo {\r
  bool continousBilinearFix;\r
  bool cornerProbes;\r
  bool showSampleUv;\r
  bool showProbeUv;\r
  bool showDirection;\r
  bool noFix;\r
  bool quadSample;\r
  int finalDepth;\r
};

uniform vec2 resolution;\r
uniform vec2 renderResolution;\r
uniform int maxSteps;\r
uniform sampler2D tDistance;\r
uniform sampler2D tColor;\r
uniform int startDepth;\r
uniform CascadeConfig current;\r
uniform CascadeConfig deeper;\r
uniform DebugInfo debug;\r
uniform sampler2D tPrevCascade;

out vec4 outColor;

bool outOfBounds(vec2 uv) {\r
  return uv.x < 0. || uv.x > 1. || uv.y < 0. || uv.y > 1.;\r
}

vec4 sampleSky(vec2 dir) {\r
  return vec4(0., 0., 0., 1.);\r
}

vec4 castRay(vec2 start, vec2 end) {\r
vec2 initialStart = start;\r
  vec2 delta = end - start;\r
  float distanceLeft = length(delta);\r
  float minStep = 2. / float(textureSize(tColor, 0).x);\r
  vec2 dir = delta / distanceLeft;\r
  for (int i = 0; i < maxSteps; i++) {\r
    if (distanceLeft < 0.) {\r
        return vec4(0.);\r
    }

    if (outOfBounds(start)) {\r
      return sampleSky(dir);\r
    }\r
    \r
    float sdf = texture(tDistance, start).r ;\r
    vec4 color = texture(tColor, start);\r
    if (color.a > 0.9) {\r
      color *= pow(0.01, length(start - initialStart));\r
      return color;\r
    }

    sdf += minStep;\r
    start += sdf * dir;\r
    distanceLeft -= sdf;\r
  }\r
  return vec4(0.);\r
}

vec2 indicesToProbeUv(ivec4 probeIndex) {\r
    float probeCount = float(textureSize(tPrevCascade, 0).x >> (probeIndex.w + 1));\r
    vec2 zeroToOne = vec2(probeIndex.xy) / (probeCount - 1.);\r
    vec2 delta = 1. / renderResolution;\r
    return zeroToOne * (1. - delta) + 0.5 * delta; \r
}

int imod(int v, int m) {\r
    return int(mod(float(v),float(m)));\r
}

ivec2 imod(ivec2 v, int m) {\r
    return ivec2(mod(vec2(v),float(m)));\r
}

ivec3 imod(ivec3 v, int m) {\r
    return ivec3(mod(vec3(v),float(m)));\r
}

ivec4 imod(ivec4 v, int m) {\r
    return ivec4(mod(vec4(v),float(m)));\r
}

vec2 indicesToSampleUv(ivec4 index) {\r
    ivec2 texSize = textureSize(tPrevCascade, 0);\r
    vec2 pixelSizeInUv = 1. / vec2(texSize); 

    vec2 probeOffset = (vec2(index.xy) + 0.5) * pixelSizeInUv;

    int probePerDim = texSize.x >>  (index.w + 1);\r
    int dirDivison = texSize.x / probePerDim;\r
    ivec2 gridCoord = ivec2( imod(index.z,dirDivison),index.z / dirDivison);

    vec2 directionOffset = vec2(gridCoord) * pixelSizeInUv * float(probePerDim);

    return probeOffset + directionOffset;\r
}

vec4 indicesToProbeDir(ivec4 index) {\r
    float tauOverIndexRayCount = TAU / float(4 << (2 * index.w));\r
    float angle = tauOverIndexRayCount * (float(index.z) + 0.5);\r
    vec2 dir = vec2(cos(angle), -sin(angle)) / renderResolution;\r
    dir = normalize(dir);\r

    float probeCount = float(textureSize(tPrevCascade, 0).x >> (index.w + 1));\r
    vec2 zeroToOne = vec2(index.xy) / (probeCount - 1.);\r
    vec2 delta = 1. / renderResolution;\r
    vec2 probeUv = zeroToOne * (1. - delta) + 0.5 * delta; 

    return vec4(probeUv, dir);\r
}

ivec4 sampleUvToIndices(ivec2 coord) {\r
    int probePerDim = textureSize(tPrevCascade, 0).x >> (current.depth + 1);\r
    ivec2 gridCoord = coord / probePerDim;\r
    ivec2 probeCoord = imod(coord, probePerDim);

    int sqrtDirectionCount = textureSize(tPrevCascade, 0).x / probePerDim;

    int direction = gridCoord.x + sqrtDirectionCount * gridCoord.y;\r
    return ivec4(probeCoord, direction, current.depth);\r
}

vec2 lineSegmentUv(ivec4 probeIndex, float distance) {\r
  vec4 probeUvDir = indicesToProbeDir(probeIndex);\r
  return probeUvDir.xy + distance * probeUvDir.zw;\r
}

ivec4 topLeftIndex(ivec4 probeIndex) {\r
    float probeCount = float(textureSize(tPrevCascade, 0).x >> (probeIndex.w + 1));\r
    vec2 zeroToOne = vec2(probeIndex.xy) / (probeCount - 1.);\r
    int deeperProbeCount = int(0.5 * probeCount  - 1.);\r
    ivec2 topLeftProbe = ivec2(floor(float(deeperProbeCount) * zeroToOne));\r
    if (topLeftProbe.x == deeperProbeCount ) {\r
        topLeftProbe.x = deeperProbeCount - 1;\r
    }\r
    if (topLeftProbe.y == deeperProbeCount) {\r
        topLeftProbe.y = deeperProbeCount - 1;\r
    }\r
    return ivec4(\r
        topLeftProbe.x,\r
        topLeftProbe.y, \r
        4 * probeIndex.z,\r
        probeIndex.w + 1\r
    );\r
}

vec4 sampleCascade(ivec4 deeperIndex) {\r
    vec4 rad = vec4(0.);\r
    if (rad.a < 0.5) {\r
        for (int i = 0; i < 4; i++) {\r
            rad += texture(tPrevCascade, indicesToSampleUv(deeperIndex + ivec4(0,0,i,0)));\r
        }\r
        rad *= 0.25;\r
    } \r
    return rad;

}

vec4 bilinearRaycast(\r
    vec2 start,\r
    vec2 end,\r
    vec2 probeUv,\r
    vec2 deeperUv,\r
    ivec4 deeperIndex\r
) {\r
    vec4 rad = castRay(start, end + (deeperUv - probeUv));\r
    if (rad.a < 0.05) {\r
        rad = sampleCascade(deeperIndex);\r
        rad *= pow(0.01, current.maxDistance - current.minDistance);\r
    } \r
    return rad;\r
}

void main() {\r
    ivec4 index = sampleUvToIndices(ivec2(gl_FragCoord.xy));\r
    \r
    if (debug.noFix) {\r
        vec2 start = lineSegmentUv(index, current.minDistance);\r
        vec2 end = lineSegmentUv(index, current.maxDistance);\r
        outColor = castRay(start, end);\r
    \r
        if (outColor.w < 0.5) {\r
            ivec4 indexTL = topLeftIndex(index);\r
            ivec4 indexBR = indexTL + ivec4(1,1,0,0);

            vec2 probe = indicesToProbeUv(index);\r
            vec2 probeTL = indicesToProbeUv(indexTL);\r
            vec2 probeBR = indicesToProbeUv(indexBR);

            vec2 weights = (probe - probeTL) / (probeBR - probeTL);

            vec2 sample1 = mix(indicesToSampleUv(indexTL), indicesToSampleUv(indexBR), weights);\r
            vec2 sample2 = mix(indicesToSampleUv(indexTL + ivec4(0,0,1,0)), \r
                                indicesToSampleUv(indexBR + ivec4(0,0,1,0)), \r
                                weights);\r
            vec2 sample3 = mix(indicesToSampleUv(indexTL + ivec4(0,0,2,0)), \r
                                indicesToSampleUv(indexBR + ivec4(0,0,2,0)), \r
                                weights);\r
            vec2 sample4 = mix(indicesToSampleUv(indexTL + ivec4(0,0,3,0)), \r
                                indicesToSampleUv(indexBR + ivec4(0,0,3,0)), \r
                                weights);

            outColor = 0.25 * (\r
                texture(tPrevCascade, sample1) +\r
                texture(tPrevCascade, sample2) +\r
                texture(tPrevCascade, sample3) +\r
                texture(tPrevCascade, sample4) \r
            );\r
        }\r
    } else {\r
        vec4 probeUvDir = indicesToProbeDir(index);\r
        ivec4 indexTL = topLeftIndex(index);\r
        vec2 probeTL = indicesToProbeUv(indexTL);\r
        ivec4 indexTR = indexTL + ivec4(1, 0, 0, 0);\r
        vec2 probeTR = indicesToProbeUv(indexTR); \r
        ivec4 indexBL = indexTL + ivec4(0, 1, 0, 0);\r
        vec2 probeBL = indicesToProbeUv(indexBL);\r
        ivec4 indexBR = indexTL + ivec4(1, 1, 0, 0);\r
        vec2 probeBR = indicesToProbeUv(indexBR);\r
        \r
        vec2 start = probeUvDir.xy + current.minDistance * probeUvDir.zw;\r
        vec2 end = probeUvDir.xy + current.maxDistance * probeUvDir.zw;

        vec4 radTL = bilinearRaycast(start, end,probeUvDir.xy, probeTL, indexTL);\r
        vec4 radTR = bilinearRaycast(start, end,probeUvDir.xy, probeTR, indexTR);\r
        vec4 radBL = bilinearRaycast(start, end,probeUvDir.xy, probeBL, indexBL);\r
        vec4 radBR = bilinearRaycast(start, end,probeUvDir.xy, probeBR, indexBR);

        vec2 weights = (probeUvDir.xy - probeTL) / (probeBR - probeTL);

        vec4 top = mix(radTL, radTR, vec4(weights.x));\r
        vec4 bot = mix(radBL, radBR, vec4(weights.x));

        outColor =  mix(top, bot, vec4(weights.y));\r
    }\r

    outColor.w = 1.;\r
}`,w0=`#version 300 es\r
struct DebugInfo {\r
  bool continousBilinearFix;\r
  bool cornerProbes;\r
  bool showSampleUv;\r
  bool showProbeUv;\r
  bool showDirection;\r
  bool noFix;\r
  bool quadSample;\r
};

precision mediump float;\r
uniform sampler2D tPrevCascade;\r
uniform vec2 resolution;\r
uniform DebugInfo debug;

out vec4 outColor;

vec2 cascadeUvOffset(int cascadeIndex) {\r
  return vec2(0.5 * float(cascadeIndex / 2), 0.5 * mod(float(cascadeIndex), 2.));\r
}

vec2 sampleUvMapped(vec2 sampleUv) {\r
  vec2 fuv = fwidth(sampleUv);\r
  vec2 minUvRemap = 0.5  * fuv;\r
  vec2 maxUvRemap = 1. - minUvRemap;\r
  vec2 zeroToOne = (sampleUv - minUvRemap) / (maxUvRemap - minUvRemap);\r
  vec2 delta = 1. / vec2(textureSize(tPrevCascade, 0));\r
  vec2 newMax = vec2(0.5 - delta) ;\r
  vec2 newMin = delta;\r
  return zeroToOne * (newMax - newMin) + newMin;\r
}

vec4 radiance(vec2 uv) {\r
  vec4 rad = vec4(0.);\r
  vec2 remapped = sampleUvMapped(uv);\r
  for (int i = 0; i < 4; i++) {\r
    vec2 offsetUv = cascadeUvOffset(i) + remapped;\r
    rad += texture(tPrevCascade, offsetUv);\r
  }\r
  return rad / 4.;\r
}

void main() {\r
  vec2 uv = gl_FragCoord.xy / resolution;\r
  outColor = radiance(uv);\r
  outColor.w = 1.;\r
}`,Jn=new dl;Jn.showPanel(0);document.body.appendChild(Jn.dom);const E=document.getElementById("webgl").getContext("webgl2");qh(E);function Re(i,e,t,n,r=null,s=null){i.useProgram(e.program),Fr(i,e,t),ko(e,n),Vo(i,r),s&&i.viewport(s[0],s[1],s[2],s[3]),zo(i,t)}const E0={position:{numComponents:3,data:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]}},De=Qs(E,E0),ee=new cl;ee.init();const _i=new ja(2),T0=new Kh(_i),A0=new x0,ln=new y0(ee),Ze=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,S0=`#version 300 es
precision highp float;

uniform vec4 color;

out vec4 outColor;

void main() {
  outColor = color;
}
`,C0=`#version 300 es
precision mediump float;

uniform vec2 resolution;
uniform float time;
uniform vec2 lineStart;
uniform vec4 color;
uniform vec2 lineEnd;
uniform float pixelLineSize;
uniform sampler2D tPrev;

out vec4 outColor;

float lineDist() {
  vec2 uv = gl_FragCoord.xy / resolution;
  if (lineStart == lineEnd) {
    return length(lineStart - uv);
  } else {
   vec2 delta = (lineEnd - lineStart);
    vec2 dir = uv - lineStart;
    float t = dot(dir, delta) / dot(delta,delta);
    if (t < 0. || t > 1.) {
      return min(length(uv - lineStart), length(uv - lineEnd));
    } else {
     return length(lineStart + t * delta - uv);
    }
   return 0.;
  }
}

void main() {
  vec2 uv = gl_FragCoord.xy / resolution;
  float dist = step(lineDist(), pixelLineSize / resolution.x);
  outColor = mix(texture(tPrev, uv).xyzw, color.rgba,  dist);
}
`,P0=`#version 300 es
precision mediump float;

uniform vec2 resolution;
uniform float jumpSize; 
uniform sampler2D tPrev;
uniform sampler2D tLine;

out vec4 outColor;

void main() {
  vec2 uv = gl_FragCoord.xy / resolution;
  
  vec3 prevClosestPos = texture(tPrev, uv).xyz;

  for (int i = -1; i <= 1; i++) {
    for (int j = -1; j <= 1; j++) {
      vec2 delta = vec2(float(i), float(j)) * jumpSize / resolution;
      vec2 sampleUv = uv + delta;
      vec3 closestPos = texture(tPrev, sampleUv).xyz;
      float lineVal = texture(tLine, sampleUv).a;

      if (lineVal > 0.1) {
        closestPos = vec3(sampleUv, 1.);
      }

      if (closestPos.z > 0.) {
        if (prevClosestPos.z > 0.) {
          if (length(closestPos.xy - uv) < length(prevClosestPos.xy - uv)) {
            prevClosestPos = closestPos;
          }
        } else {
          prevClosestPos = closestPos;
        }
      }
    }
  }
  outColor = vec4( prevClosestPos , 0.);
}
`,Xa=`#version 300 es
precision mediump float;

uniform vec2 resolution;
uniform sampler2D tPrev;

out vec4 outColor;

void main() {
  vec2 uv = gl_FragCoord.xy / resolution;
  float dist = length(texture(tPrev, uv).xy - uv);
  outColor = vec4(float(gl_FragCoord.x == resolution.x - 0.5), float(gl_FragCoord.y == resolution.y - 0.5), 0. ,1.);
  outColor = vec4(vec3(dist), 1.0);
}

`,R0=`#version 300 es
precision highp float;

uniform vec2 resolution;
uniform vec4 renderTarget;
uniform sampler2D tPrev;

out vec4 outColor;

void main() {
  vec2 uv = gl_FragCoord.xy / resolution;
  vec2 targetUv = (renderTarget.zw - renderTarget.xy) * uv + renderTarget.xy;
  outColor = texture(tPrev, targetUv).rgba;
}
`,D0=`#version 300 es
precision highp float;

uniform vec2 resolution;
uniform sampler2D tPrev;

out vec4 outColor;

void main() {
  vec2 uv = gl_FragCoord.xy / resolution;
  outColor = pow(texture(tPrev, uv), vec4(1./2.2));
}
`,F0=`#version 300 es
in vec2 position;
in vec4 color;
in mat4 matrix;

out vec4 v_color;
  void main() {
    // Multiply the position by the matrix.
    gl_Position = matrix * vec4(position, 0.0, 1.0);
    v_color = color;
  }
`,M0=`#version 300 es

precision mediump float;

in vec4 v_color;

out vec4 outColor;
void main() {
  outColor = v_color;
}`,Oi=Xe(E,[F0,M0]);Xe(E,[Ze,C0]);const O0=Xe(E,[Ze,R0]),I0=Xe(E,[Ze,Xa]);Xe(E,[Ze,Xa]);const ei=Xe(E,[Ze,S0]),L0=Xe(E,[Ze,P0]),ur=Xe(E,[Ze,D0]),k0=Xe(E,[Ze,b0]),Ii=Vl,z0=Xe(E,[Ze,w0]);function In(i,e){if(i.length===0)return;const t=[],n=[],r=i[0].mesh.vertices;for(let l=0;l<i.length;l++){const c=i[l],{position:u,mesh:f}=c,{scale:h,color:m}=f,p=Ii.scaling([h.x/_i.sizes.aspect,h.y,1]),d=Ii.translation([u.x/h.x,u.y/h.y,0]);Ii.multiply(p,d).forEach((g,x)=>{t.push(g)}),n.push(m.x,m.y,m.z,m.w)}const o=Qs(E,{position:{numComponents:2,data:r},color:{numComponents:4,data:n,divisor:1},matrix:{numComponents:16,data:t,divisor:1}}),a=Hh(E,Oi,o);E.useProgram(Oi.program),Fr(E,Oi,a),Vo(E,e),zo(E,a,E.TRIANGLE_FAN,a.numElements,0,i.length)}function Ha(i,e){In([e.data.state.ball],i),In(e.data.state.paddles,i),In(e.data.state.balls,i),In(e.data.state.particles,i)}_i.listeners.push({updateSize:({width:i,height:e})=>{E.canvas.width=i,E.canvas.height=e}});let cn={requested:!1,lastRequest:0};const B0=()=>{if(cn.requested=!1,Date.now()-cn.lastRequest<500)return;var e=document.getElementById("webgl").toDataURL(),t=document.createElement("a");t.download="canvas_image.png",t.href=e,t.click(),cn.lastRequest=Date.now()},Oe=8*128,wt=Oe,R={lightEmittersWithCurrent:vt(E,[{internalFormat:E.RGBA8,format:E.RGBA,mag:E.LINEAR,min:E.LINEAR,wrap:E.CLAMP_TO_EDGE}],Oe,wt),distance:vt(E,[{internalFormat:E.R8,format:E.R,mag:E.LINEAR,min:E.LINEAR,wrap:E.CLAMP_TO_EDGE}],Oe,wt),fill:vt(E,[{internalFormat:E.RGB8,format:E.RGB,mag:E.NEAREST,min:E.NEAREST,wrap:E.CLAMP_TO_EDGE}],Oe,wt),spare:vt(E,[{internalFormat:E.RGB8,format:E.RGB,mag:E.NEAREST,min:E.NEAREST,wrap:E.CLAMP_TO_EDGE}],Oe,wt),quadCascadeRT:vt(E,[{internalFormat:E.RGBA32F,format:E.RGBA,mag:E.LINEAR,min:E.LINEAR,wrap:E.CLAMP_TO_EDGE}],Oe,wt),spareQuadCascadeRT:vt(E,[{internalFormat:E.RGBA32F,format:E.RGBA,mag:E.LINEAR,min:E.LINEAR,wrap:E.CLAMP_TO_EDGE}],Oe,wt),spareQuadCascadeFinalRT:vt(E,[{internalFormat:E.RGBA32F,format:E.RGBA,mag:E.LINEAR,min:E.LINEAR,wrap:E.CLAMP_TO_EDGE}],Oe,wt)};ee.addColor({displayName:"Color",defaultValue:[1,1,1],callback:i=>{ln.commands.push(new UpdateColorCommand(i))}});const Ln=E.getExtension("EXT_disjoint_timer_query_webgl2"),Li=E.createQuery();var ki=!1,ks=!1;function N0(i){E.viewport(0,0,E.canvas.width,E.canvas.height),Re(E,ei,De,{color:[0,0,0,0]},R.lightEmittersWithCurrent),Ha(R.lightEmittersWithCurrent,ln)}function U0(i,e){const n=2*Math.SQRT2/R.quadCascadeRT.width,s=Math.log2(Math.SQRT2/n),o=e===0?0:n*Math.pow(2,s*(e-1)/5),a=e==5?Math.SQRT2:n*Math.pow(2,s*e/5),l=n*Math.pow(2,s*(e+1)/5);Re(E,k0,De,{renderResolution:[E.canvas.width,E.canvas.height],resolution:[R.quadCascadeRT.width,R.quadCascadeRT.height],maxSteps:ee.addNumber({displayName:"Max Steps",defaultValue:32,min:1,max:128,step:1}).value,tDistance:R.distance.attachments[0],tColor:R.lightEmittersWithCurrent.attachments[0],startDepth:5,current:{depth:e,minDistance:o,maxDistance:a},deeper:{depth:e,minDistance:a,maxDistance:l},debug:{continousBilinearFix:ee.addNumber({displayName:"Continuous Bilinear Fix",defaultValue:!0}).value,cornerProbes:ee.addNumber({displayName:"Corner Probes",defaultValue:!0}).value,showSampleUv:ee.addNumber({displayName:"Show Sample Uv",defaultValue:!1}).value,showProbeUv:ee.addNumber({displayName:"Show Probe Uv",defaultValue:!1}).value,showDirection:ee.addNumber({displayName:"Show Direction Uv",defaultValue:!1}).value,noFix:ee.addNumber({displayName:"No Fix",defaultValue:!1}).value,quadSample:ee.addNumber({displayName:"Quad Sample",defaultValue:!1}).value,finalDepth:ee.addNumber({displayName:"Final Depth",defaultValue:0,min:0,max:8,step:1}).value},tPrevCascade:R.quadCascadeRT.attachments[0]},R.spareQuadCascadeRT),[R.spareQuadCascadeRT,R.quadCascadeRT]=[R.quadCascadeRT,R.spareQuadCascadeRT]}function $0(i){Re(E,ei,De,{color:[0,0,0,0]},R.spare),[R.fill,R.spare]=[R.spare,R.fill];for(var e=Math.ceil(Math.log2(Oe));e>=0;e--)Re(E,L0,De,{resolution:[R.fill.width,R.fill.height],jumpSize:1<<e,tPrev:R.fill.attachments[0],tLine:R.lightEmittersWithCurrent.attachments[0]},R.spare),[R.fill,R.spare]=[R.spare,R.fill];Re(E,I0,De,{resolution:[R.fill.width,R.fill.height],tPrev:R.fill.attachments[0]},R.distance)}function G0(){Re(E,O0,De,{renderTarget:[ee.addNumber({displayName:"minx",defaultValue:0,min:0,max:1,step:.01}).value,ee.addNumber({displayName:"miny",defaultValue:0,min:0,max:1,step:.01}).value,ee.addNumber({displayName:"maxx",defaultValue:1,min:0,max:1,step:.01}).value,ee.addNumber({displayName:"maxy",defaultValue:1,min:0,max:1,step:.01}).value],resolution:[R.quadCascadeRT.width,R.quadCascadeRT.height],tPrev:R.quadCascadeRT.attachments[0]},R.spareQuadCascadeFinalRT),Re(E,ur,De,{resolution:[E.canvas.width,E.canvas.height],tPrev:R.spareQuadCascadeFinalRT.attachments[0]})}function V0(){Re(E,z0,De,{resolution:[R.spareQuadCascadeRT.width,R.spareQuadCascadeRT.height],tPrevCascade:R.quadCascadeRT.attachments[0]},R.spareQuadCascadeFinalRT)}class X0{constructor({fps:e=60}){this.frame=0,this.fps=e,this.initialTime=Date.now(),this.lastDelta=Date.now()}getDeltaTime(){const t=Date.now()-this.lastDelta;return this.lastDelta=Date.now(),Math.min(1e3/this.fps,t)}timeToNextRender(){this.frame++;const e=Date.now()-this.initialTime,t=1e3/this.fps;return e%t}}const zi=new X0({fps:60});function Ya(i){Jn.begin(),_i.update();const e=T0.getState();A0.update(ln,e),(e.control||e.meta)&&e.s&&(cn.requested=!0),ln.update(zi.getDeltaTime()/1e3),jh(E.canvas),N0(),$0();let t=ee.addNumber({displayName:"Initial Depth",defaultValue:Math.log2(Oe)-3,min:1,max:Math.log2(Oe)-3,step:1}).value;for(Re(E,ei,De,{color:[0,0,0,0]},R.quadCascadeRT),Re(E,ei,De,{color:[0,0,0,0]},R.spareQuadCascadeFinalRT),!ki&&Ln&&(E.beginQuery(Ln.TIME_ELAPSED_EXT,Li),ki=!0);t>=ee.addNumber({displayName:"Final Depth",defaultValue:0,min:0,max:8,step:1}).value;)U0(zi,t),t--;switch(ki&&!ks&&Ln&&(ks=!0,E.endQuery(Ln.TIME_ELAPSED_EXT)),Re(E,ur,De,{resolution:[E.canvas.width,E.canvas.height],tPrev:R.lightEmittersWithCurrent.attachments[0]}),ee.addEnum({displayName:"Render Mode",defaultValue:"Render Cascade",options:["Render Cascade","Cascade Levels"]}).value){case"Cascade Levels":G0();break;case"Render Cascade":default:V0();break}Ha(R.spareQuadCascadeFinalRT,ln),Re(E,ur,De,{resolution:[E.canvas.width,E.canvas.height],tPrev:R.spareQuadCascadeFinalRT.attachments[0]}),cn.requested&&B0(),E.getQueryParameter(Li,E.QUERY_RESULT_AVAILABLE)&&E.getQueryParameter(Li,E.QUERY_RESULT),setTimeout(()=>{requestAnimationFrame(Ya)},zi.timeToNextRender()),Jn.end()}requestAnimationFrame(Ya);
//# sourceMappingURL=index-e9a60a52.js.map
